:root {
  color-scheme: dark;
  --bg: #0a0a0a;
  --bg-elev: #111111;
  --bg-soft: #151515;
  --surface: #1a1a1a;
  --border: #242424;
  --text: #e6e6e6;
  --muted: #b6b6b6;
  --muted-2: #8b8b8b;
  --accent: #8ab4ff;
  --accent-strong: #9b86ff;
  --accent-warm: #c4a26b;
  --success: #9bd4a8;
  --danger: #ff8ea3;
  --shadow: rgba(0, 0, 0, 0.55);
  --radius: 14px;
  --radius-sm: 10px;
  --topbar-height: 72px;
  --font-ui: "Segoe UI Variable", "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  --font-display: "Segoe UI Variable", "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  --text-xs: 11px;
  --text-sm: 12px;
  --text-md: 13px;
  --text-lg: 18px;
  --text-xl: 22px;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--font-ui);
  font-size: var(--text-md);
  background: var(--bg);
  color: var(--text);
}

.app {
  min-height: 100vh;
  display: grid;
  grid-template-columns: 240px 1fr;
  grid-template-rows: auto 1fr;
  position: relative;
  overflow: hidden;
}

.app::before {
  content: none;
}

/* ═══════════ RAIL ═══════════ */

.rail {
  position: sticky;
  top: var(--topbar-height);
  height: calc(100vh - var(--topbar-height));
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 20px 16px;
  background: #0f0f0f;
  border-right: 1px solid var(--border);
  z-index: 2;
  grid-row: 2;
  overflow-y: auto;
}

.brand {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  font-family: var(--font-display);
  font-weight: 600;
}

.brand-mark {
  width: 40px;
  height: 40px;
  display: grid;
  place-items: center;
  border-radius: 14px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  color: var(--text);
  font-size: 18px;
}

.brand-text {
  font-size: var(--text-xs);
  letter-spacing: 0.04em;
  color: var(--muted);
}

.rail-nav {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.rail-item {
  background: transparent;
  border: 1px solid transparent;
  color: var(--muted);
  padding: 10px 12px;
  border-radius: 10px;
  font-size: var(--text-md);
  cursor: pointer;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 10px;
}

.rail-item.active {
  background: var(--bg-soft);
  color: var(--text);
  border-color: var(--border);
  box-shadow: none;
}

.rail-icon {
  width: 20px;
  height: 20px;
  display: grid;
  place-items: center;
  color: var(--muted);
}

.rail-icon svg {
  width: 18px;
  height: 18px;
}

.rail-item.active .rail-icon {
  color: var(--text);
}

.rail-footer {
  margin-top: auto;
  display: flex;
  justify-content: center;
}

.rail-pill {
  border-radius: 999px;
  border: 1px solid var(--border);
  padding: 6px 12px;
  font-size: var(--text-xs);
  color: var(--muted);
  background: var(--bg-soft);
}

/* ═══════════ COLLECTIONS SIDEBAR ═══════════ */

.collections-sidebar {
  border-top: 1px solid var(--border);
  padding-top: 14px;
}

.collections-title {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--muted-2);
  margin-bottom: 10px;
  font-weight: 600;
}

.collections-tree {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.tree-section {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.tree-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
  margin-bottom: 2px;
  font-weight: 500;
}

.tree-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--text-xs);
  color: var(--muted);
  padding: 5px 8px;
  border-radius: 8px;
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.tree-item:hover {
  background: var(--bg-soft);
  color: var(--text);
}

.tree-item.active {
  background: var(--bg-soft);
  color: var(--text);
  border: 1px solid var(--border);
}

.tree-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.tree-dot.org {
  background: var(--accent-strong);
}

.tree-dot.mine {
  background: var(--accent);
}

.tree-dot.shared {
  background: var(--success);
}

.tree-count {
  margin-left: auto;
  font-size: 10px;
  color: var(--muted-2);
  background: var(--surface);
  border-radius: 999px;
  padding: 1px 6px;
  flex-shrink: 0;
}

/* ═══════════ PLATFORM STATUS ═══════════ */

.gateway-status {
  display: flex;
  align-items: center;
  gap: 6px;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.status-dot.healthy {
  background: #4ade80;
  box-shadow: 0 0 6px rgba(74, 222, 128, 0.4);
}

/* ═══════════ SHELL + MAIN ═══════════ */

.shell {
  position: relative;
  z-index: 1;
  grid-row: 2;
}

.main {
  padding: 28px;
}

/* ═══════════ TOPBAR ═══════════ */

.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
  padding: 18px 28px;
  border-bottom: 1px solid var(--border);
  background: #0f0f0f;
  position: sticky;
  top: 0;
  z-index: 3;
  grid-column: 1 / -1;
  grid-row: 1;
  min-height: var(--topbar-height);
}

.top-left {
  display: flex;
  align-items: center;
  gap: 16px;
  min-width: 240px;
}

.top-brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-family: var(--font-display);
  font-weight: 600;
  font-size: var(--text-md);
}

.top-brand-name {
  letter-spacing: 0.01em;
}

.top-preview {
  border: 1px solid var(--border);
  background: var(--bg-elev);
  border-radius: 999px;
  padding: 4px 10px;
  font-size: var(--text-xs);
  color: var(--muted);
  font-weight: 500;
}

.workspace-inline {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--muted);
  font-size: var(--text-sm);
}

.workspace-name {
  font-family: var(--font-ui);
  font-weight: 500;
}

.caret {
  font-size: var(--text-sm);
  color: var(--muted-2);
}

.global-search {
  flex: 1;
  max-width: 560px;
  display: flex;
  align-items: center;
  gap: 12px;
  background: #0f0f0f;
  border-radius: 999px;
  padding: 10px 16px;
  border: 1px solid var(--border);
}

.global-search input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: var(--text);
  font-size: var(--text-md);
}

.global-search input::placeholder {
  color: var(--muted-2);
}

.search-icon {
  width: 24px;
  height: 24px;
  border-radius: 8px;
  background: var(--surface);
  display: grid;
  place-items: center;
  color: var(--muted);
  font-weight: 600;
  flex-shrink: 0;
}

.search-meta {
  font-size: var(--text-xs);
  color: var(--accent);
  white-space: nowrap;
  font-weight: 500;
}

.top-actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

.top-toggle {
  display: flex;
  align-items: center;
}

.toggle {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: var(--text-sm);
  color: var(--muted);
}

.switch {
  width: 34px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  position: relative;
}

.switch span {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--muted);
}

.switch.on {
  background: #6c4cff;
  border-color: #6c4cff;
}

.switch.on span {
  left: 18px;
  background: #ffffff;
}

.icon-btn {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--muted);
  font-size: var(--text-sm);
  display: grid;
  place-items: center;
  cursor: pointer;
}

.icon-btn svg {
  width: 16px;
  height: 16px;
}

.top-tabs {
  display: flex;
  align-items: center;
  gap: 12px;
}

.top-tab {
  background: transparent;
  border: none;
  color: var(--muted);
  font-size: var(--text-md);
  padding: 6px 2px;
  cursor: pointer;
  position: relative;
  font-family: var(--font-ui);
}

.top-tab.active {
  color: var(--text);
  font-weight: 600;
}

.top-tab.active::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -8px;
  width: 100%;
  height: 1px;
  border-radius: 999px;
  background: var(--text);
}

/* ═══════════ BUTTONS ═══════════ */

.primary,
.ghost {
  border-radius: 999px;
  padding: 10px 18px;
  font-size: var(--text-md);
  border: 1px solid transparent;
  cursor: pointer;
}

.primary {
  background: var(--text);
  color: #0a0a0a;
  font-weight: 600;
  box-shadow: none;
}

.primary.small {
  padding: 6px 12px;
  font-size: var(--text-sm);
}

.ghost {
  background: transparent;
  border-color: var(--border);
  color: var(--text);
}

.primary.accent {
  background: #6e4bff;
  color: #ffffff;
  border: 1px solid #6e4bff;
}

/* ═══════════ HERO ═══════════ */

.overview-hero {
  margin-bottom: 18px;
}

.overview-hero h1 {
  margin: 6px 0 0;
}

.hero-sub {
  margin: 8px 0 0;
  color: var(--muted);
  font-size: var(--text-sm);
  line-height: 1.5;
}

.overview-section {
  display: flex;
  flex-direction: column;
  gap: 14px;
  margin-bottom: 28px;
}

/* ═══════════ SECTION HEAD ═══════════ */

.section-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.section-head h2 {
  margin: 0 0 4px;
  font-family: var(--font-display);
  font-size: var(--text-lg);
}

.section-head p {
  margin: 0;
  color: var(--muted);
  font-size: var(--text-sm);
}

/* ═══════════ COMPACT GRID + MINI CARDS ═══════════ */

.compact-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.compact-grid.catalog-list-grid {
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 6px !important;
}

.mini-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  display: flex;
  align-items: flex-start;
  gap: 10px;
  box-shadow: none;
  transition: border-color 0.15s;
}

.mini-card:hover {
  border-color: var(--accent);
}

.mini-card h4 {
  margin: 0 0 2px;
  font-size: var(--text-md);
}

.mini-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
}

.mini-body {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.card-provider {
  font-size: 10px;
  color: var(--muted-2);
  margin-top: 1px;
}

.card-metric {
  font-size: 10px;
  color: var(--accent);
  font-weight: 500;
  margin-left: auto;
  white-space: nowrap;
  align-self: flex-start;
  letter-spacing: 0.01em;
}

.has-save {
  position: relative;
  cursor: pointer;
}

/* ═══════════ CATALOG LIST ITEMS (compact card style) ═══════════ */

.catalog-list-grid {
  display: grid;
  gap: 6px !important;
  align-content: start;
  overflow: visible;
}

.catalog-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid transparent;
  transition: background 0.15s, border-color 0.15s;
  min-width: 0;
  overflow: visible;
}

.catalog-item:hover {
  background: var(--bg-soft);
  border-color: var(--border);
  z-index: 3;
}

.catalog-item .catalog-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: grid;
  place-items: center;
  flex-shrink: 0;
}
.catalog-item .catalog-icon svg {
  width: 18px;
  height: 18px;
}

.catalog-item h4 {
  margin: 0;
  font-size: 12.5px;
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.catalog-item p {
  margin: 0;
  font-size: 11px;
  color: var(--muted-2);
  line-height: 1.35;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.catalog-item > div:not(.card-action-menu):not(.catalog-icon) {
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
}
/* Title row: name + action buttons inline */
.catalog-item .card-title-row {
  display: flex;
  align-items: center;
  gap: 4px;
  min-width: 0;
}
.catalog-item .card-title-row h4 {
  flex: 1;
  min-width: 0;
}

.catalog-item .tool-tag {
  align-self: flex-start;
  font-size: 10px;
  padding: 1px 6px;
}

@media (max-width: 900px) {
  .catalog-grid.catalog-list-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 600px) {
  .catalog-grid.catalog-list-grid { grid-template-columns: 1fr; }
}

.agent-footer-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.mini-icon {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  background: var(--surface);
  display: grid;
  place-items: center;
  color: var(--text);
  font-weight: 600;
  font-size: var(--text-xs);
  flex-shrink: 0;
}

/* ═══════════ CARD META ═══════════ */

.card-meta-row {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 4px;
  flex-wrap: wrap;
}

.sparkline-mini {
  display: inline-flex;
  align-items: center;
}

.sparkline-mini svg {
  width: 48px;
  height: 14px;
}

.usage-label {
  font-size: 10px;
  color: var(--accent);
  font-weight: 500;
}

.compliance-badge {
  font-size: 9px;
  color: var(--success);
  background: rgba(155, 212, 168, 0.12);
  border: 1px solid rgba(155, 212, 168, 0.2);
  border-radius: 999px;
  padding: 1px 6px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.compliance-badge.sm {
  font-size: 8px;
  padding: 1px 5px;
}

.lifecycle-badge {
  font-size: 9px;
  color: var(--accent);
  background: rgba(138, 180, 255, 0.12);
  border: 1px solid rgba(138, 180, 255, 0.2);
  border-radius: 999px;
  padding: 1px 6px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.lifecycle-badge.sm {
  font-size: 8px;
  padding: 1px 5px;
}

.version-badge {
  font-size: 9px;
  color: var(--muted);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 1px 6px;
  font-weight: 500;
}

.collection-crumb {
  font-size: 9px;
  color: var(--accent-strong);
  font-weight: 500;
}

.table-usage {
  color: var(--accent);
  font-weight: 500;
}

/* ═══════════ PROVIDER CHIPS ═══════════ */

.provider-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.provider-chip {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 10px 18px;
  font-size: var(--text-sm);
  color: var(--text);
}

/* ═══════════ COLLECTION CARDS ═══════════ */

.collection-row {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.collection-card {
  background: linear-gradient(135deg, #1a1a1a, #101010);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
  min-height: 96px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 8px;
}

.collection-card.alt {
  background: linear-gradient(135deg, #1f1f1f, #0f0f0f);
}

.collection-card.alt-2 {
  background: linear-gradient(135deg, #202020, #0f0f0f);
}

.collection-card h4 {
  margin: 0;
  font-size: var(--text-md);
}

.collection-card p {
  margin: 0;
  color: var(--muted);
  font-size: var(--text-sm);
}

.collection-meta {
  display: flex;
  gap: 8px;
  align-items: center;
}

/* ═══════════ LEADERBOARD ═══════════ */

.leaderboard {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow: hidden;
  box-shadow: none;
}

.leaderboard table {
  width: 100%;
  border-collapse: collapse;
}

.leaderboard th,
.leaderboard td {
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  font-size: var(--text-sm);
}

.leaderboard th {
  color: var(--muted-2);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: var(--text-xs);
  font-weight: 500;
}

.leaderboard tbody tr:last-child td {
  border-bottom: none;
}

.model-name {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ═══════════ TOOL CARDS (Enhanced) ═══════════ */

.tool-grid {
  grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
}

.tool-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-shadow: none;
  transition: border-color 0.15s;
}

.tool-card:hover {
  border-color: var(--accent);
}

.tool-head {
  display: flex;
  align-items: center;
  gap: 10px;
}

.tool-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-md);
}

.tool-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
}

.tool-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 6px;
  flex-wrap: wrap;
}

.tool-tag {
  padding: 3px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  font-size: 10px;
  color: var(--muted);
  background: var(--surface);
}

.tool-policies {
  display: flex;
  gap: 4px;
}

.policy-indicator {
  font-size: 12px;
  cursor: help;
}

/* ═══════════ SKILL CARDS (NEW) ═══════════ */

.skill-grid {
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.skill-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-shadow: none;
  transition: border-color 0.15s;
}

.skill-card:hover {
  border-color: var(--accent);
}

.skill-head {
  display: flex;
  align-items: center;
  gap: 10px;
}

.skill-icon {
  background: rgba(196, 162, 107, 0.15) !important;
  color: var(--accent-warm) !important;
}

.skill-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-md);
}

.skill-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
}

.skill-desc {
  font-size: var(--text-sm) !important;
  color: var(--muted) !important;
  line-height: 1.4;
}

.skill-footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

.eval-score {
  font-size: 10px;
  color: var(--accent-warm);
  font-weight: 600;
  background: rgba(196, 162, 107, 0.12);
  border: 1px solid rgba(196, 162, 107, 0.2);
  border-radius: 999px;
  padding: 2px 8px;
}

.skill-meta {
  display: flex;
  gap: 6px;
  align-items: center;
  flex-wrap: wrap;
}

/* ═══════════ AGENT CARDS (NEW) ═══════════ */

.agent-grid {
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.agent-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-shadow: none;
  transition: border-color 0.15s;
}

.agent-card:hover {
  border-color: var(--accent);
}

.agent-asset-summary {
  font-size: 10px;
  color: var(--muted-2);
  letter-spacing: 0.01em;
}

.agent-head {
  display: flex;
  align-items: center;
  gap: 10px;
}

.agent-icon {
  background: rgba(155, 212, 168, 0.15) !important;
  color: var(--success) !important;
}

.agent-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-md);
}

.agent-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
}

.agent-assets {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.asset-pill {
  font-size: 10px;
  color: var(--muted);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 2px 8px;
}

.agent-footer {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

/* ═══════════ TEMPLATE CARDS ═══════════ */

.template-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.template-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 140px;
  box-shadow: none;
}

.template-card h4 {
  margin: 0;
  font-size: var(--text-md);
}

.template-card p {
  margin: 0;
  font-size: var(--text-sm);
  color: var(--muted);
}

.template-icons {
  display: flex;
  gap: 6px;
}

.template-icons span {
  width: 24px;
  height: 24px;
  border-radius: 8px;
  background: var(--surface);
  display: grid;
  place-items: center;
  font-size: 10px;
  color: var(--text);
}

/* ═══════════ PAGE VISIBILITY TOGGLING ═══════════ */

.page {
  display: none;
}

.page.active {
  display: block;
}

/* ═══════════ CATALOG PAGE (shared across Models, Tools, Agents, Skills) ═══════════ */

.catalog-page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 16px;
}

.catalog-page-header h1 {
  margin: 0;
}

.catalog-page-actions {
  display: flex;
  gap: 10px;
}

.count-badge {
  font-size: var(--text-sm);
  color: var(--muted);
  font-weight: 400;
}

.catalog-toolbar {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 20px;
}

.catalog-searchbar {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 12px;
  min-width: 260px;
  flex: 1;
}

.catalog-searchbar input {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: var(--text-sm);
  outline: none;
}

.catalog-searchbar input::placeholder {
  color: var(--muted-2);
}

.catalog-searchbar .search-icon {
  width: 18px;
  height: 18px;
  font-size: var(--text-xs);
}

.catalog-sort {
  white-space: nowrap;
}

.catalog-layout {
  display: grid;
  grid-template-columns: 240px minmax(0, 1fr);
  gap: 20px;
}

/* ═══════════ CATALOG FILTERS ═══════════ */

.catalog-filters {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* ═══════════ CATALOG GRID ═══════════ */

.catalog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 14px;
}
/* Override when used as compact list */
.catalog-grid.catalog-list-grid {
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 6px !important;
}

/* Tool catalog grid */
.tool-catalog-grid {
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}

/* Agent catalog grid */
.agent-catalog-grid {
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}

/* Skill catalog grid */
.skill-catalog-grid {
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}

/* Full-width template grid for templates page */
.template-full-grid {
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
}

/* ═══════════ FILTERS ═══════════ */

.filter-block {
  border-bottom: 1px solid var(--border);
  padding-bottom: 14px;
}

.filter-block:last-child {
  border-bottom: none;
}

.filter-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: var(--text-sm);
  color: var(--text);
  margin-bottom: 10px;
}

.filter-option {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--muted);
  font-size: var(--text-sm);
  padding: 4px 0;
}

.filter-option .count {
  margin-left: auto;
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 2px 6px;
  font-size: var(--text-xs);
  color: var(--muted-2);
  background: var(--surface);
}

.filter-block.collapsed {
  opacity: 0.7;
}

.model-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  display: flex;
  align-items: flex-start;
  gap: 10px;
  transition: border-color 0.15s;
}

.model-card:hover {
  border-color: var(--accent);
}

.model-icon {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  background: var(--surface);
  display: grid;
  place-items: center;
  color: var(--text);
  font-size: var(--text-xs);
  font-weight: 600;
  flex-shrink: 0;
}

.model-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-md);
}

.model-card p {
  margin: 0;
  color: var(--muted-2);
  font-size: var(--text-xs);
}

/* ═══════════ HEADINGS ═══════════ */

.eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.25em;
  color: var(--muted-2);
  font-size: var(--text-xs);
}

h1 {
  font-family: var(--font-display);
  font-size: var(--text-xl);
  margin: 6px 0 12px;
  font-weight: 600;
}

/* ═══════════ MISC (kept for compatibility) ═══════════ */

label {
  display: flex;
  gap: 8px;
  align-items: center;
  font-size: var(--text-sm);
  color: var(--muted);
}

.hero {
  display: grid;
  grid-template-columns: 1.2fr 0.8fr;
  gap: 24px;
  align-items: center;
  margin-bottom: 30px;
}

.subtitle {
  color: var(--muted);
  margin: 0;
  line-height: 1.5;
}

.hero-card {
  background: var(--bg-elev);
  border-radius: var(--radius);
  padding: 20px;
  border: 1px solid var(--border);
  box-shadow: none;
}

.hero-query {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  border-bottom: 1px solid var(--border);
  padding-bottom: 16px;
}

.hero-query .label,
.hero-metrics .label {
  color: var(--muted-2);
  font-size: var(--text-xs);
}

.hero-query .value {
  font-size: var(--text-md);
  font-weight: 500;
  margin-top: 6px;
}

.intent-score {
  text-align: right;
}

.intent-score .score {
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--success);
}

.hero-metrics {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 16px;
}

.hero-metrics .value {
  font-size: var(--text-lg);
  margin: 8px 0 0;
  font-weight: 600;
}

.canvas {
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr) 320px;
  gap: 20px;
}

.filters,
.detail {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.panel {
  background: var(--bg-elev);
  border-radius: var(--radius);
  padding: 16px;
  border: 1px solid var(--border);
  box-shadow: none;
}

.panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.panel-header h3 {
  margin: 0;
  font-size: var(--text-md);
}

.link {
  border: none;
  background: transparent;
  color: var(--text);
  font-size: var(--text-sm);
  cursor: pointer;
}

.tree-group,
.filter-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 16px;
}

.tree-title,
.filter-title {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--muted-2);
}

.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.chip {
  background: var(--surface);
  color: var(--text);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: var(--text-xs);
  border: 1px solid var(--border);
}

.catalog {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.catalog-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.tabs {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.tab {
  padding: 8px 14px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--bg-elev);
  color: var(--muted);
  font-size: var(--text-sm);
  cursor: pointer;
}

.tab.active {
  border-color: var(--text);
  color: var(--text);
  box-shadow: none;
}

.catalog-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.catalog-search {
  background: var(--bg-elev);
  border-radius: 999px;
  border: 1px solid var(--border);
  padding: 8px 14px;
  color: var(--text);
  min-width: 160px;
}

.group {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.group-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.group-head h2 {
  margin: 0 0 4px;
  font-family: var(--font-display);
  font-size: var(--text-lg);
}

.group-head p {
  margin: 0;
  color: var(--muted);
  font-size: var(--text-sm);
}

.grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.asset-card {
  background: var(--bg-elev);
  border-radius: var(--radius);
  padding: 16px;
  border: 1px solid var(--border);
  box-shadow: none;
  display: flex;
  flex-direction: column;
  gap: 12px;
  animation: rise 0.6s ease both;
}

.asset-card:nth-child(2) {
  animation-delay: 0.05s;
}

.asset-card:nth-child(3) {
  animation-delay: 0.1s;
}

.asset-top {
  display: flex;
  gap: 12px;
  align-items: center;
}

.asset-icon {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  background: var(--surface);
  font-weight: 600;
  color: var(--accent);
}

.asset-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-md);
}

.asset-card p {
  margin: 0;
  color: var(--muted);
  font-size: var(--text-sm);
}

.asset-desc {
  color: var(--muted);
  font-size: var(--text-sm);
  line-height: 1.4;
}

.asset-tags {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.badge {
  background: rgba(126, 241, 184, 0.12);
  color: var(--success);
  border: 1px solid rgba(126, 241, 184, 0.2);
  padding: 4px 8px;
  border-radius: 999px;
  font-size: var(--text-xs);
}

.badge.outline {
  background: transparent;
  color: var(--muted);
  border-color: var(--border);
}

.asset-meta {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: var(--text-xs);
  color: var(--muted-2);
}

.asset-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.sparkline {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--accent);
  font-size: var(--text-xs);
}

.sparkline svg {
  width: 90px;
  height: 22px;
}

.schema {
  display: grid;
  gap: 4px;
  font-size: var(--text-xs);
  color: var(--muted-2);
  background: rgba(12, 16, 22, 0.6);
  border: 1px dashed var(--border);
  padding: 8px 10px;
  border-radius: 12px;
}

.detail-card {
  background: var(--bg-elev);
  border-radius: var(--radius);
  padding: 18px;
  border: 1px solid var(--border);
  box-shadow: 0 24px 50px var(--shadow);
  display: flex;
  flex-direction: column;
  gap: 16px;
  position: sticky;
  top: 110px;
}

.detail-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.detail-section {
  display: grid;
  gap: 8px;
}

.detail-section h4 {
  margin: 0;
  font-size: var(--text-md);
}

.badge-row {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.usage-chart {
  background: var(--surface);
  border-radius: 12px;
  padding: 10px;
  border: 1px solid var(--border);
  color: var(--accent);
  font-size: var(--text-sm);
}

.usage-chart svg {
  width: 100%;
  height: 50px;
}

.related {
  display: grid;
  gap: 6px;
  font-size: var(--text-sm);
  color: var(--muted);
}

/* ═══════════ HIDDEN UTILITY ═══════════ */

.hidden {
  display: none !important;
}

/* ═══════════ BUILD TAB ═══════════ */

.build-page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 16px;
}

.build-page-header h1 {
  margin: 0;
}

.build-page-actions {
  display: flex;
  gap: 10px;
}

/* Ask AI bar */
.ask-ai-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.ask-ai-label {
  font-size: var(--text-sm);
  color: var(--accent-strong);
  font-weight: 600;
  white-space: nowrap;
}

.ask-ai-chip {
  font-size: var(--text-xs);
  color: var(--muted);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 5px 12px;
  cursor: pointer;
  white-space: nowrap;
}

.ask-ai-chip:hover {
  border-color: var(--muted);
  color: var(--text);
}

.ask-ai-close {
  margin-left: auto;
  background: none;
  border: none;
  color: var(--muted-2);
  font-size: 16px;
  cursor: pointer;
  padding: 2px 6px;
}

/* Build search */
.build-search {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 12px;
  margin-bottom: 16px;
  max-width: 380px;
}

.build-search svg {
  color: var(--muted-2);
  flex-shrink: 0;
}

.build-search input {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: var(--text-sm);
  outline: none;
}

.build-search input::placeholder {
  color: var(--muted-2);
}

/* Build sub-tabs (Deployments / AI Services / Batch Jobs) */
.build-sub-tabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--border);
  margin-bottom: 16px;
}

.build-sub-tab {
  background: transparent;
  border: none;
  color: var(--muted);
  font-size: var(--text-sm);
  padding: 10px 16px;
  cursor: pointer;
  position: relative;
  font-family: var(--font-ui);
}

.build-sub-tab.active {
  color: var(--text);
  font-weight: 600;
}

.build-sub-tab.active::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -1px;
  width: 100%;
  height: 2px;
  background: var(--text);
}

/* Build table */
.build-table-wrap {
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  background: var(--bg-elev);
}

.build-table {
  width: 100%;
  border-collapse: collapse;
}

.build-table th,
.build-table td {
  padding: 12px 16px;
  border-bottom: 1px solid var(--border);
  font-size: var(--text-sm);
  text-align: left;
}

.build-table th {
  color: var(--muted-2);
  font-weight: 500;
  font-size: var(--text-xs);
  background: var(--bg-soft);
}

.build-table tbody tr:last-child td {
  border-bottom: none;
}

.build-table tbody tr:hover {
  background: var(--bg-soft);
}

.table-link {
  color: var(--accent-strong);
  cursor: pointer;
  text-decoration: none;
  font-weight: 500;
}

.table-link:hover {
  text-decoration: underline;
}

.version-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  height: 22px;
  padding: 0 6px;
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: var(--text-xs);
  color: var(--muted);
  background: var(--surface);
}

.status-succeeded {
  color: var(--success);
}

.table-footer {
  padding: 10px 16px;
  font-size: var(--text-xs);
  color: var(--muted-2);
  border-top: 1px solid var(--border);
}

.muted {
  color: var(--muted-2);
}

/* Build empty state */
.build-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 80px 40px;
  gap: 12px;
}

.build-empty-state .empty-icon {
  margin-bottom: 8px;
  opacity: 0.5;
}

.build-empty-state h3 {
  margin: 0;
  font-size: var(--text-lg);
  font-weight: 600;
}

.build-empty-state p {
  margin: 0;
  color: var(--muted);
  font-size: var(--text-sm);
  max-width: 440px;
  line-height: 1.5;
}

.learn-link {
  color: var(--accent);
  font-size: var(--text-sm);
  text-decoration: none;
}

.learn-link:hover {
  text-decoration: underline;
}

/* Dropdown */
.dropdown-wrap {
  position: relative;
}

.dropdown-menu {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 4px;
  min-width: 180px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 6px;
  display: flex;
  flex-direction: column;
  z-index: 10;
  box-shadow: 0 8px 24px var(--shadow);
}

.dropdown-item {
  background: transparent;
  border: none;
  color: var(--text);
  font-size: var(--text-sm);
  padding: 8px 12px;
  text-align: left;
  cursor: pointer;
  border-radius: 8px;
  font-family: var(--font-ui);
}

.dropdown-item:hover {
  background: var(--bg-soft);
}

/* ═══════════ GOVERNANCE BANNER ═══════════ */

.gateway-banner {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border: 1px solid rgba(74, 222, 128, 0.2);
  border-radius: 10px;
  background: rgba(74, 222, 128, 0.04);
  margin-bottom: 16px;
}

.gateway-banner-icon {
  flex-shrink: 0;
}

.gateway-banner-text {
  font-size: var(--text-sm);
  color: var(--muted);
  line-height: 1.4;
}

.gateway-banner-text strong {
  color: #4ade80;
  font-weight: 600;
}
.gateway-banner-link {
  color: var(--accent);
  text-decoration: none;
  font-weight: 500;
  margin-left: 4px;
}
.gateway-banner-link:hover { text-decoration: underline; }

/* ═══════════ GUARDRAILS WARNING ═══════════ */

.guardrails-warning {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border: 1px solid rgba(251, 191, 36, 0.25);
  border-radius: 10px;
  background: rgba(251, 191, 36, 0.05);
  margin-bottom: 16px;
  font-size: var(--text-sm);
  color: var(--muted);
}

.warning-icon {
  font-size: 16px;
  flex-shrink: 0;
}

.warning-link {
  color: var(--accent);
  text-decoration: none;
  font-weight: 500;
}

.warning-link:hover {
  text-decoration: underline;
}

/* ═══════════ POLICY INDICATORS (inline) ═══════════ */

.policy-indicators {
  display: inline-flex;
  gap: 4px;
  font-size: 13px;
  letter-spacing: 2px;
}

.mono-sm {
  font-family: "SF Mono", "Cascadia Code", "Fira Code", monospace;
  font-size: var(--text-xs);
  color: var(--muted-2);
}

/* ═══════════ OPERATE CONTROLS PANEL (C7) ═══════════ */

.operate-links-panel {
  margin-top: 20px;
  padding: 16px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
}

.operate-links-panel h4 {
  margin: 0 0 12px;
  font-size: var(--text-sm);
  color: var(--muted-2);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 500;
}

.operate-links {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.operate-link {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border: 1px solid var(--border);
  border-radius: 10px;
  font-size: var(--text-sm);
  color: var(--accent);
  text-decoration: none;
  cursor: pointer;
}

.operate-link:hover {
  background: var(--bg-soft);
  border-color: var(--muted);
}

.operate-link span {
  font-size: 14px;
}

/* Observe pages */
.observe-kpi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
  margin-bottom: 16px;
}

.observe-kpi-card {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: var(--bg-elev);
}

.observe-kpi-value {
  font-size: var(--text-lg);
  font-weight: 700;
  color: var(--text);
}

.observe-kpi-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
}

.observe-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

.observe-panel {
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  padding: 14px;
}

.observe-panel-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.observe-panel-head h3 {
  margin: 0;
  font-size: var(--text-md);
}

.observe-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.observe-list-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--bg-soft);
  font-size: var(--text-sm);
}

.observe-list-row span:first-child {
  color: var(--text);
  font-weight: 500;
}

.observe-list-row span:last-child {
  color: var(--muted);
  text-align: right;
}

.observe-alert-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.observe-alert-card {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
  padding: 14px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
}

.observe-alert-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-md);
}

.observe-alert-card p {
  margin: 0;
  font-size: var(--text-sm);
  color: var(--muted);
}

/* ═══════════ OPERATE OVERVIEW (ov-*) ═══════════ */

/* ── Filter bar ── */
.ov-filter-bar {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}
.ov-filter-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 7px 14px;
  border: 1px solid var(--border);
  border-radius: 20px;
  font-size: 13px;
  color: var(--muted);
  background: var(--bg-elev);
  cursor: pointer;
}
.ov-filter-chip strong {
  color: var(--text);
}

/* ── Time bar ── */
.ov-time-bar {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 12px;
  margin-bottom: 20px;
}
.ov-time-label {
  font-size: 13px;
  color: var(--muted);
}
.ov-time-pills {
  display: flex;
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
}
.ov-time-pill {
  padding: 6px 16px;
  font-size: 13px;
  border: none;
  background: transparent;
  color: var(--muted);
  cursor: pointer;
  border-right: 1px solid var(--border);
}
.ov-time-pill:last-child { border-right: none; }
.ov-time-pill.active {
  background: var(--surface);
  color: var(--text);
  font-weight: 600;
}

/* ── Main grid (issues + sidebar) ── */
.ov-main-grid {
  display: grid;
  grid-template-columns: 1fr 280px;
  gap: 20px;
  margin-bottom: 24px;
}

/* ── Issues panel ── */
.ov-issues-panel {
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  overflow: hidden;
}
.ov-issues-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px 12px;
  flex-wrap: wrap;
  gap: 8px;
}
.ov-issues-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
}
.ov-issues-title strong {
  font-size: 16px;
}
.ov-issue-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  display: inline-block;
}
.ov-issue-dot.critical { background: #ef4444; }
.ov-issue-dot.warning { background: #f59e0b; }
.ov-issue-dot.info { background: #6366f1; }
.ov-issue-count {
  font-size: 12px;
  color: var(--muted);
}
.ov-issues-controls {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 13px;
  color: var(--muted);
}
.ov-refresh-btn {
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: var(--muted);
  padding: 4px;
}
.ov-issues-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
.ov-issues-table thead {
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
}
.ov-issues-table th {
  padding: 10px 16px;
  text-align: left;
  font-size: 11px;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.ov-issues-table td {
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  vertical-align: middle;
}
.ov-issues-table tr:last-child td {
  border-bottom: none;
}
.ov-issue-critical td:first-child {
  color: #ef4444;
}
.ov-alert-icon {
  margin-right: 6px;
  font-size: 13px;
}
.ov-alert-icon.critical { color: #ef4444; }
.ov-alert-icon.warning { color: #f59e0b; }
.ov-alert-icon.info { color: #a78bfa; }
.ov-more-btn {
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: var(--muted);
  padding: 2px 6px;
  margin-left: 4px;
}
.ov-view-all {
  display: block;
  padding: 12px 20px;
  font-size: 13px;
  color: var(--accent);
  text-decoration: none;
  border-top: 1px solid var(--border);
}

/* ── Sidebar cards ── */
.ov-sidebar {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.ov-sidebar-card {
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  padding: 20px;
}
.ov-sidebar-label {
  font-size: 13px;
  color: var(--muted);
}
.ov-sidebar-value {
  font-size: 32px;
  font-weight: 700;
  margin: 4px 0 2px;
}
.ov-sidebar-sub {
  font-size: 13px;
  color: var(--muted);
  display: block;
  margin-bottom: 10px;
}
.ov-bar-track {
  height: 6px;
  background: var(--surface);
  border-radius: 3px;
  margin-bottom: 12px;
  overflow: hidden;
}
.ov-bar-fill {
  height: 100%;
  border-radius: 3px;
}
.ov-sidebar-warn {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: #f59e0b;
  background: rgba(245,158,11,0.08);
  border: 1px solid rgba(245,158,11,0.2);
  border-radius: 6px;
  padding: 6px 10px;
  margin-bottom: 10px;
}
.ov-sidebar-link {
  font-size: 13px;
  color: var(--accent);
  text-decoration: none;
}

/* ── KPI row ── */
.ov-kpi-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  margin-bottom: 24px;
}
.ov-kpi-card {
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  padding: 20px;
}
.ov-kpi-label {
  font-size: 13px;
  color: var(--muted);
  display: block;
  margin-bottom: 6px;
}
.ov-kpi-value {
  font-size: 32px;
  font-weight: 700;
  display: inline;
}
.ov-kpi-unit {
  font-size: 14px;
  color: var(--muted);
  margin-left: 2px;
}
.ov-kpi-trend {
  display: block;
  font-size: 12px;
  margin-top: 6px;
}
.ov-kpi-trend.up { color: #22c55e; }
.ov-kpi-trend.down { color: #ef4444; }
.ov-kpi-link {
  display: block;
  margin-top: 10px;
  font-size: 13px;
  color: var(--accent);
  text-decoration: none;
}

/* Budget bar & legend */
.ov-budget-bar {
  display: flex;
  gap: 3px;
  height: 8px;
  border-radius: 4px;
  overflow: hidden;
  margin-top: 10px;
}
.ov-budget-seg {
  border-radius: 4px;
}
.ov-budget-legend {
  display: flex;
  gap: 14px;
  margin-top: 8px;
  font-size: 11px;
  color: var(--muted);
}
.ov-legend-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  display: inline-block;
  margin-right: 4px;
  vertical-align: middle;
}

/* ── Charts row ── */
.ov-charts-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 24px;
}
.ov-chart-panel {
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  padding: 20px;
}
.ov-chart-panel h3 {
  font-size: 16px;
  font-weight: 700;
  margin: 0 0 4px;
}
.ov-chart-sub {
  font-size: 13px;
  color: var(--muted);
  margin: 0 0 16px;
}
.ov-chart-placeholder {
  margin-bottom: 8px;
}
.ov-chart-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  font-size: 11px;
  color: var(--muted);
}

/* ── Movers tables ── */
.ov-movers-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}
.ov-movers-header {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  margin-bottom: 10px;
}
.ov-trend-icon { font-size: 14px; }
.ov-movers-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
}
.ov-movers-table th {
  text-align: left;
  font-size: 11px;
  font-weight: 500;
  color: var(--muted);
  padding: 6px 4px;
  border-bottom: 1px solid var(--border);
}
.ov-movers-table td {
  padding: 8px 4px;
  border-bottom: 1px solid var(--border);
  white-space: nowrap;
}
.ov-movers-table tr:last-child td { border-bottom: none; }
.ov-agent-link {
  color: var(--accent);
  text-decoration: none;
  font-weight: 500;
}
.ov-change {
  font-weight: 600;
  margin-left: 4px;
}
.ov-change.up { color: #22c55e; }
.ov-change.down { color: #ef4444; }

/* ═══════════ OPERATE ASSETS (oa-*) ═══════════ */

/* ── Sub-tabs ── */
.oa-subtabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--border);
  margin-bottom: 20px;
}
.oa-subtab {
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 500;
  color: var(--muted);
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  margin-bottom: -1px;
}
.oa-subtab.active {
  color: var(--text);
  font-weight: 600;
  border-bottom-color: var(--text);
}
.oa-tab-content {
  display: none;
}
.oa-tab-content.active {
  display: block;
}

/* ── Filter row ── */
.oa-filter-row {
  display: flex;
  gap: 10px;
  margin-bottom: 16px;
}

/* ── Toolbar ── */
.oa-toolbar {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}
.oa-filter-pills {
  display: flex;
  gap: 8px;
  flex: 1;
}

/* ── Agents table ── */
.oa-agents-table th,
.oa-agents-table td {
  font-size: 13px;
}
.oa-check {
  width: 16px;
  height: 16px;
  accent-color: var(--accent);
  cursor: pointer;
}
.oa-radio {
  display: inline-block;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid var(--border);
  vertical-align: middle;
}
.oa-radio.active {
  border-color: var(--accent);
  background: var(--accent);
  box-shadow: inset 0 0 0 3px var(--bg-elev);
}
.oa-agent-name {
  color: var(--accent) !important;
  font-weight: 500;
}
.oa-project {
  font-size: 12px;
  color: var(--muted);
}
.oa-muted {
  color: var(--muted);
}
.oa-sort {
  font-size: 11px;
  color: var(--muted);
  margin-left: 2px;
}

/* Status badges */
.oa-status {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
}
.oa-status.running {
  color: #16a34a;
  background: rgba(34,197,94,0.1);
  border: 1px solid rgba(34,197,94,0.25);
}
.oa-status.stopped {
  color: #ef4444;
  background: rgba(239,68,68,0.1);
  border: 1px solid rgba(239,68,68,0.25);
}
.oa-status.active {
  color: #16a34a;
  background: rgba(34,197,94,0.1);
  border: 1px solid rgba(34,197,94,0.25);
}

/* Published link */
.oa-published-link {
  color: var(--accent);
  text-decoration: none;
  font-size: 12px;
}

/* ═══════════ REGISTER AGENT WIZARD (ra-*) ═══════════ */

/* ── Layout ── */
.ra-layout {
  display: grid;
  grid-template-columns: 520px 1fr;
  gap: 40px;
  align-items: start;
}

/* ── Stepper column ── */
.ra-stepper-col {
  max-width: 520px;
}
.ra-divider {
  border: none;
  border-top: 1px solid var(--border);
  margin: 0;
}

/* ── Step ── */
.ra-step {
  padding: 0;
}
.ra-step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 0;
}
.ra-step-number {
  width: 28px; height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 600;
  background: var(--surface);
  color: var(--muted);
  border: 1.5px solid var(--border);
  flex-shrink: 0;
}
.ra-step-number.active {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}
.ra-step-number.completed {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}
.ra-step-title {
  font-size: 15px;
  font-weight: 600;
}

/* ── Step body ── */
.ra-step-body {
  padding: 0 0 20px 40px;
}
.ra-step-desc {
  font-size: 13px;
  color: var(--muted);
  margin: 0 0 16px;
  line-height: 1.5;
}

/* ── Field label ── */
.ra-field-label {
  display: block;
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 10px;
}
.ra-required {
  color: var(--accent);
}
.ra-info {
  font-size: 12px;
  color: var(--muted);
  cursor: help;
}

/* ── Radio list ── */
.ra-radio-list {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-bottom: 20px;
}
.ra-radio-list.ra-radio-inline {
  flex-direction: row;
  gap: 20px;
}
.ra-radio {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
  padding: 8px 0;
  cursor: pointer;
}
.ra-radio input[type="radio"] {
  width: 18px; height: 18px;
  accent-color: var(--accent);
  cursor: pointer;
}
.ra-radio-dot { display: none; }

/* ── Step actions ── */
.ra-step-actions {
  display: flex;
  gap: 10px;
  margin-top: 16px;
}

/* ── Inline value ── */
.ra-inline-value {
  font-size: 14px;
  color: var(--muted);
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
}

/* ── Context column ── */
.ra-context-col {
  min-width: 0;
}
.ra-context-panel h3 {
  font-size: 18px;
  font-weight: 700;
  margin: 0 0 6px;
}
.ra-context-desc {
  font-size: 13px;
  color: var(--muted);
  margin: 0 0 20px;
  line-height: 1.5;
}

/* ── Resource list ── */
.ra-resource-list {
  background: var(--surface);
  border-radius: 10px;
  overflow: hidden;
}
.ra-resource-header {
  padding: 12px 20px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
  background: var(--surface);
  border-bottom: 1px solid var(--border);
}
.ra-resource-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 20px;
  cursor: pointer;
  border-bottom: 1px solid var(--border);
}
.ra-resource-item:last-child { border-bottom: none; }
.ra-resource-item.selected {
  background: rgba(139,92,246,0.06);
}
.ra-resource-item input[type="radio"] {
  width: 18px; height: 18px;
  accent-color: var(--accent);
  cursor: pointer;
  flex-shrink: 0;
}
.ra-resource-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.ra-resource-info strong {
  font-size: 14px;
}
.ra-resource-info span {
  font-size: 12px;
  color: var(--muted);
}

/* ── Configure form fields ── */
.ra-select {
  width: 100%;
  padding: 10px 14px;
  font-size: 14px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--bg-elev);
  color: var(--text);
  margin-bottom: 16px;
  appearance: auto;
}
.ra-input {
  width: 100%;
  padding: 10px 14px;
  font-size: 14px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--surface);
  color: var(--text);
  margin-bottom: 16px;
  box-sizing: border-box;
}
.ra-input::placeholder {
  color: var(--muted);
}
.ra-section-title {
  font-size: 16px;
  font-weight: 700;
  margin: 24px 0 8px;
}
.ra-checkbox {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
  cursor: pointer;
  margin-bottom: 8px;
}
.ra-checkbox input[type="checkbox"] {
  width: 18px; height: 18px;
  accent-color: var(--accent);
  cursor: pointer;
}

/* ── Review cards ── */
.ra-review-card {
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 16px;
}
.ra-review-card h4 {
  font-size: 15px;
  font-weight: 700;
  margin: 0 0 14px;
}
.ra-review-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}
.ra-review-field {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.ra-review-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.ra-review-value {
  font-size: 14px;
  color: var(--text);
}

/* ═══════════ REGISTER TOOL EXTRAS (rt-*) ═══════════ */

/* Description cell in tools table */
.oa-desc-cell {
  font-size: 12px;
  color: var(--muted);
  max-width: 280px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Pagination */
.oa-pagination {
  display: flex;
  align-items: center;
  gap: 2px;
}
.oa-page-btn {
  width: 32px; height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background: transparent;
  border-radius: 50%;
  font-size: 13px;
  color: var(--text);
  cursor: pointer;
}
.oa-page-btn.active {
  background: var(--accent);
  color: #fff;
  font-weight: 600;
}
.oa-page-btn:disabled {
  opacity: 0.3;
  cursor: default;
}
.table-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Server details card */
.rt-server-card {
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 20px;
}
.rt-server-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 14px 20px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  font-size: 14px;
}
.rt-connected-badge {
  margin-left: auto;
  font-size: 12px;
  color: #22c55e;
  font-weight: 500;
}
.rt-server-details {
  padding: 16px 20px;
  background: var(--surface);
}

/* Capability badges */
.rt-caps {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.rt-cap-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 5px 12px;
  border: 1px solid var(--border);
  border-radius: 16px;
  font-size: 12px;
  background: var(--bg-elev);
}

/* Hint text */
.rt-hint {
  font-size: 12px;
  color: var(--muted);
  margin: -10px 0 16px;
}

/* Access options */
.rt-access-options {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.rt-access-option {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 16px 20px;
  border: 1px solid var(--border);
  border-radius: 10px;
  cursor: pointer;
  transition: border-color 0.15s;
}
.rt-access-option.selected {
  border-color: var(--accent);
  background: rgba(139,92,246,0.04);
}
.rt-access-option input[type="radio"] {
  margin-top: 2px;
  width: 18px; height: 18px;
  accent-color: var(--accent);
  cursor: pointer;
  flex-shrink: 0;
}
.rt-access-option div {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.rt-access-option strong {
  font-size: 14px;
}
.rt-access-option span {
  font-size: 12px;
  color: var(--muted);
}

/* Auth fields indent */
.rt-auth-fields {
  margin-bottom: 8px;
}

/* ── Models table extras ── */
.oa-state-succeeded {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px; height: 16px;
  border-radius: 50%;
  background: #22c55e;
  color: #fff;
  font-size: 10px;
  margin-right: 4px;
  vertical-align: middle;
}
.oa-compliance-ok {
  color: #22c55e;
  font-weight: 500;
  font-size: 13px;
}
.oa-compliance-warn {
  color: #f59e0b;
  font-weight: 500;
  font-size: 13px;
}
.oa-forecast-note {
  font-size: 12px;
  color: var(--muted);
  margin: 8px 0 0;
  padding: 0 4px;
}

/* ═══════════ ADMIN PAGE (ad-*) ═══════════ */

/* Tab content */
.ad-tab-content { display: none; }
.ad-tab-content.active { display: block; }
.ad-res-tab-content { display: none; }
.ad-res-tab-content.active { display: block; }

/* Parent badge */
.ad-badge-parent {
  display: inline-block;
  padding: 3px 10px;
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: 12px;
  color: var(--muted);
  font-weight: 400;
  margin-left: 10px;
  vertical-align: middle;
}

/* Section header (collapsible) */
.ad-section-header {
  font-size: 15px;
  font-weight: 700;
  padding: 14px 0;
  border-bottom: 1px solid var(--border);
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}
.ad-collapse {
  font-size: 12px;
  color: var(--muted);
}

/* Config grid (3 cols) */
.ad-config-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 16px 32px;
  margin-bottom: 20px;
}
.ad-config-field {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.ad-config-label {
  font-size: 12px;
  color: var(--muted);
}
.ad-config-value {
  font-size: 14px;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 6px;
}
.ad-config-link {
  font-size: 13px;
  color: var(--accent);
  text-decoration: none;
}
.ad-copy-btn {
  background: none;
  border: none;
  font-size: 12px;
  cursor: pointer;
  padding: 2px 4px;
  opacity: 0.5;
}
.ad-copy-btn:hover { opacity: 1; }

/* API key row */
.ad-api-key-row {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 20px;
}
.ad-api-key-display {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px 14px;
  max-width: 280px;
}
.ad-api-key-mask {
  font-family: monospace;
  font-size: 13px;
  letter-spacing: 1px;
}

/* Gateway grid */
.ad-gateway-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
  gap: 16px;
  margin-bottom: 20px;
}
.ad-gw-badge {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
}
.ad-gw-badge.enabled {
  color: #16a34a;
  background: rgba(34,197,94,0.1);
  border: 1px solid rgba(34,197,94,0.25);
}
.ad-gw-badge.active {
  color: #16a34a;
  background: rgba(34,197,94,0.1);
  border: 1px solid rgba(34,197,94,0.25);
}

/* ── Configure Gateway Modal ── */
.ad-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  z-index: 120;
  display: flex;
  align-items: center;
  justify-content: center;
}
.ad-modal {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 28px 32px;
  max-width: 520px;
  width: 90%;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
}
.ad-modal h2 {
  font-size: 18px;
  font-weight: 700;
  margin: 0 0 8px;
}
.ad-modal-desc {
  font-size: 13px;
  color: var(--muted);
  line-height: 1.5;
  margin: 0 0 20px;
}
.ad-gw-pills {
  display: flex;
  gap: 0;
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 20px;
}
.ad-gw-pill {
  flex: 1;
  padding: 8px 16px;
  font-size: 13px;
  border: none;
  background: transparent;
  cursor: pointer;
  color: var(--muted);
  border-right: 1px solid var(--border);
}
.ad-gw-pill:last-child { border-right: none; }
.ad-gw-pill.active {
  background: var(--surface);
  color: var(--text);
  font-weight: 600;
}
.ad-gw-checkboxes {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 24px;
}
.ad-modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

/* ═══════════ MODEL ROUTER PANEL (C6) ═══════════ */

.router-config-panel {
  padding: 16px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  margin-bottom: 16px;
}

.router-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
}

.router-header h4 {
  margin: 0;
  font-size: var(--text-md);
}

.router-desc {
  margin: 0 0 12px;
  font-size: var(--text-sm);
  color: var(--muted);
}

.router-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 6px 0;
  font-size: var(--text-sm);
}

.router-label {
  color: var(--muted-2);
  min-width: 100px;
}

.router-value {
  color: var(--text);
  font-weight: 500;
}

/* ═══════════ WORKFLOW CANVAS PREVIEW (C7a) ═══════════ */

.canvas-preview {
  padding: 20px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: var(--bg-elev);
  margin-bottom: 20px;
}

.canvas-preview h4 {
  margin: 0 0 4px;
  font-size: var(--text-md);
}

.canvas-desc {
  margin: 0 0 16px;
  font-size: var(--text-sm);
  color: var(--muted);
}

.canvas-nodes {
  display: flex;
  align-items: center;
  gap: 8px;
  overflow-x: auto;
  padding: 8px 0;
}

.canvas-node {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: var(--bg-soft);
  min-width: 0;
  flex-shrink: 0;
}

.canvas-node-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: grid;
  place-items: center;
  font-size: var(--text-xs);
  font-weight: 700;
  flex-shrink: 0;
}

.canvas-node-info {
  display: flex;
  flex-direction: column;
  gap: 1px;
}

.canvas-node-name {
  font-size: var(--text-sm);
  font-weight: 600;
  white-space: nowrap;
}

.canvas-node-type {
  font-size: var(--text-xs);
  color: var(--muted-2);
  white-space: nowrap;
}

.canvas-node-policies {
  font-size: 11px;
  letter-spacing: 2px;
  flex-shrink: 0;
}

.canvas-edge {
  color: var(--muted-2);
  font-size: 18px;
  flex-shrink: 0;
}

.canvas-actions {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 14px;
}

.canvas-hint {
  font-size: var(--text-xs);
  color: var(--muted-2);
}

/* Gateway lookup node — visually distinct purple glow */
.canvas-node-gateway {
  border-color: rgba(110, 75, 255, 0.3);
  background: rgba(110, 75, 255, 0.06);
  box-shadow: 0 0 12px rgba(110, 75, 255, 0.08);
}

/* Prompt node — subtle blue accent */
.canvas-node-prompt {
  border-color: rgba(138, 180, 255, 0.25);
  background: rgba(138, 180, 255, 0.04);
}

/* Response node — subtle green accent */
.canvas-node-response {
  border-color: rgba(155, 212, 168, 0.25);
  background: rgba(155, 212, 168, 0.04);
}

/* ═══════════ SKILL CREATE OPTIONS (B-06a) ═══════════ */

.skill-create-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.skill-option-card {
  padding: 16px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.skill-option-card:hover {
  border-color: var(--muted);
  background: var(--bg-soft);
}

.skill-option-icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: grid;
  place-items: center;
}

.skill-option-card h4 {
  margin: 0;
  font-size: var(--text-sm);
  font-weight: 600;
}

.skill-option-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
  line-height: 1.4;
}

/* ═══════════ GUARDRAIL TYPE CARDS ═══════════ */

.guardrail-types {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 20px;
}

.guardrail-type-card {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 16px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--bg-elev);
}

.guardrail-type-card:hover {
  background: var(--bg-soft);
}

.guardrail-type-icon {
  font-size: 20px;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background: var(--surface);
  display: grid;
  place-items: center;
  flex-shrink: 0;
}

.guardrail-type-card div {
  flex: 1;
  min-width: 0;
}

.guardrail-type-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-sm);
  font-weight: 600;
}

.guardrail-type-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
  line-height: 1.4;
}

.guardrail-type-card .ghost {
  flex-shrink: 0;
}

/* ═══════════ MODAL ═══════════ */

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.modal {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 16px;
  width: 90vw;
  max-width: 880px;
  max-height: 85vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 24px 64px rgba(0, 0, 0, 0.5);
}

.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px 0;
}

.modal-header h2 {
  margin: 0;
  font-size: var(--text-lg);
  font-weight: 600;
}

.modal-close {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 22px;
  cursor: pointer;
  width: 32px;
  height: 32px;
  display: grid;
  place-items: center;
  border-radius: 50%;
}

.modal-close:hover {
  background: var(--surface);
  color: var(--text);
}

/* Modal tabs */
.modal-tabs {
  display: flex;
  gap: 0;
  padding: 16px 24px 0;
  border-bottom: 1px solid var(--border);
}

.modal-tab {
  background: transparent;
  border: none;
  color: var(--muted);
  font-size: var(--text-sm);
  padding: 10px 16px;
  cursor: pointer;
  position: relative;
  font-family: var(--font-ui);
}

.modal-tab.active {
  color: var(--text);
  font-weight: 600;
}

.modal-tab.active::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -1px;
  width: 100%;
  height: 2px;
  background: var(--text);
}

/* Modal tab content */
.modal-tab-content {
  display: none;
  flex-direction: column;
  padding: 16px 24px 20px;
  overflow-y: auto;
  flex: 1;
}

.modal-tab-content.active {
  display: flex;
}

.modal-desc {
  margin: 0 0 16px;
  font-size: var(--text-sm);
  color: var(--muted);
  line-height: 1.5;
}

.modal-desc a {
  color: var(--accent);
}

/* Modal search */
.modal-search {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 14px;
  margin-bottom: 16px;
}

.modal-search svg {
  color: var(--muted-2);
  flex-shrink: 0;
}

.modal-search input {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: var(--text-sm);
  outline: none;
}

.modal-search input::placeholder {
  color: var(--muted-2);
}

.modal-search-wide {
  flex: 1;
}

/* Modal catalog toolbar */
.modal-catalog-toolbar {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.modal-sort-select {
  display: flex;
  align-items: center;
  gap: 6px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 14px;
  font-size: var(--text-sm);
  color: var(--text);
  cursor: pointer;
  white-space: nowrap;
}

/* Modal filter chips */
.modal-filter-chips {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 16px;
}

.modal-filter-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: var(--text-xs);
  color: var(--muted);
  cursor: pointer;
  background: transparent;
}

.modal-filter-chip:hover {
  border-color: var(--muted);
  color: var(--text);
}

/* Modal tool grid */
.modal-tool-grid {
  display: grid;
  gap: 12px;
}

.modal-tool-grid-3 {
  grid-template-columns: repeat(3, 1fr);
}

.modal-tool-card {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 14px;
  border-radius: 12px;
  cursor: pointer;
  border: 1px solid transparent;
  transition: background 0.15s, border-color 0.15s;
}

.modal-tool-card:hover {
  background: var(--bg-soft);
  border-color: var(--border);
}

.modal-tool-icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: grid;
  place-items: center;
  flex-shrink: 0;
}

.modal-tool-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.modal-tool-info h4 {
  margin: 0;
  font-size: var(--text-sm);
  font-weight: 600;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.modal-tool-info p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.modal-tool-info .tool-tag {
  align-self: flex-start;
}

/* Modal pagination */
.modal-pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 12px 0;
}

.ghost.small {
  padding: 6px 12px;
  font-size: var(--text-xs);
}

.ghost.small[disabled] {
  opacity: 0.4;
  cursor: not-allowed;
}

/* Modal footer */
.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  padding-top: 16px;
  border-top: 1px solid var(--border);
  margin-top: 16px;
}

@media (max-width: 900px) {
  .skill-create-options {
    grid-template-columns: 1fr;
  }

  .canvas-nodes {
    flex-wrap: wrap;
  }

  .operate-links {
    flex-direction: column;
  }
}

@media (max-width: 700px) {
  .modal-tool-grid-3 {
    grid-template-columns: 1fr;
  }

  .modal {
    width: 96vw;
    max-height: 90vh;
  }

  .modal-catalog-toolbar {
    flex-direction: column;
    align-items: stretch;
  }
}

/* ═══════════ ANIMATIONS ═══════════ */

@keyframes rise {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ═══════════ RESPONSIVE ═══════════ */

@media (max-width: 1200px) {
  .canvas {
    grid-template-columns: 260px 1fr;
  }

  .detail {
    display: none;
  }

  .catalog-layout {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 900px) {
  .app {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
  }

  .rail {
    position: static;
    flex-direction: row;
    height: auto;
    border-right: none;
    border-bottom: 1px solid var(--border);
    grid-row: 2;
    overflow-x: auto;
    overflow-y: hidden;
  }

  .rail-nav {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
  }

  .collections-sidebar {
    display: none;
  }

  .main {
    padding: 20px;
  }

  .hero {
    grid-template-columns: 1fr;
  }

  .canvas {
    grid-template-columns: 1fr;
  }

  .filters {
    order: 1;
  }

  .catalog {
    order: 2;
  }

  .catalog-filters {
    order: 1;
  }

  .catalog-grid {
    order: 2;
  }

  .top-tabs {
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
  }
}

/* ═══════════ D-02: INTENT SEARCH RESULTS DROPDOWN ═══════════ */

.search-results-dropdown {
  position: fixed;
  top: var(--topbar-height);
  left: 240px;
  right: 0;
  max-height: calc(100vh - var(--topbar-height));
  background: var(--bg-elev);
  border-bottom: 1px solid var(--border);
  z-index: 10;
  overflow-y: auto;
  box-shadow: 0 12px 40px rgba(0,0,0,0.5);
}

.search-results-header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 14px 24px;
  border-bottom: 1px solid var(--border);
  background: var(--bg-soft);
}

.search-results-query {
  font-size: var(--text-md);
  color: var(--muted);
}

.search-results-query strong {
  color: var(--text);
}

.search-results-meta {
  margin-left: auto;
  font-size: var(--text-xs);
  color: var(--accent);
  font-weight: 500;
}

.search-results-close {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 20px;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 6px;
}

.search-results-close:hover {
  background: var(--surface);
  color: var(--text);
}

/* D-08: Refinement bar */
.search-refine-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 24px;
  border-bottom: 1px solid var(--border);
  overflow-x: auto;
}

.refine-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 5px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: transparent;
  font-size: var(--text-xs);
  color: var(--muted);
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.15s;
}

.refine-chip:hover {
  border-color: var(--accent);
  color: var(--text);
}

.refine-chip.active {
  background: rgba(138, 180, 255, 0.12);
  border-color: var(--accent);
  color: var(--accent);
}

.refine-count {
  font-size: 10px;
  color: var(--muted-2);
  background: var(--surface);
  border-radius: 999px;
  padding: 1px 5px;
}

.refine-divider {
  width: 1px;
  height: 18px;
  background: var(--border);
  flex-shrink: 0;
}

/* Search results body */
.search-results-body {
  padding: 8px 0;
}

.search-group {
  border-bottom: 1px solid var(--border);
}

.search-group:last-child {
  border-bottom: none;
}

.search-group-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 24px;
  font-size: var(--text-sm);
  color: var(--muted-2);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

.search-group-icon {
  font-size: 14px;
}

.search-group-title {
  flex: 1;
}

.search-group-count {
  font-size: var(--text-xs);
  color: var(--muted-2);
  font-weight: 400;
  text-transform: none;
  letter-spacing: 0;
}

.search-group-items {
  padding: 0 12px 8px;
}

.search-result-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  transition: background 0.15s;
}

.search-result-item:hover {
  background: var(--bg-soft);
}

.search-result-left {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  min-width: 0;
}

.search-result-info h4 {
  font-size: var(--text-md);
  font-weight: 600;
  margin: 0;
  color: var(--text);
}

.search-result-info p {
  font-size: var(--text-xs);
  color: var(--muted-2);
  margin: 2px 0 0;
}

.search-result-right {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}

.search-score {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--accent);
  background: rgba(138, 180, 255, 0.1);
  padding: 3px 8px;
  border-radius: 6px;
  font-family: "SF Mono", "Cascadia Code", monospace;
}

.search-assets {
  display: flex;
  gap: 4px;
}

.asset-pill.sm {
  font-size: 10px;
  padding: 1px 6px;
}


/* ═══════════ D-06: ASSET DETAIL SIDE PANEL ═══════════ */

.detail-panel-overlay {
  position: fixed;
  inset: 0;
  z-index: 20;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: flex-end;
}

.detail-panel {
  width: 600px;
  max-width: 90vw;
  height: 100vh;
  background: var(--bg-elev);
  border-left: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}

.detail-panel-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 20px 24px 16px;
  border-bottom: 1px solid var(--border);
}

.detail-panel-title {
  display: flex;
  align-items: center;
  gap: 12px;
}

.detail-panel-title .mini-icon {
  width: 40px;
  height: 40px;
  font-size: 14px;
}

.detail-panel-title h2 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin: 0;
}

.detail-type-badge {
  font-size: var(--text-xs);
  color: var(--muted-2);
  margin-top: 2px;
  display: block;
}

.detail-panel-close {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 22px;
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 6px;
}

.detail-panel-close:hover {
  background: var(--surface);
  color: var(--text);
}

/* D-07: Deep-link action buttons */
.detail-actions {
  display: flex;
  gap: 8px;
  padding: 12px 24px;
  border-bottom: 1px solid var(--border);
}

/* Governance status bar in detail */
.detail-gateway-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 24px;
  font-size: var(--text-xs);
  color: var(--muted);
  background: rgba(74, 222, 128, 0.04);
  border-bottom: 1px solid var(--border);
}

.detail-gateway-bar .status-dot {
  width: 6px;
  height: 6px;
}

.detail-gateway-bar .policy-indicators {
  margin-left: auto;
  font-size: 11px;
  letter-spacing: 1px;
}

.detail-gateway-bar .mono-sm {
  font-size: 10px;
}

/* Detail tabs */
.detail-tabs {
  display: flex;
  gap: 0;
  padding: 0 24px;
  border-bottom: 1px solid var(--border);
}

.detail-tab {
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  color: var(--muted);
  font-size: var(--text-sm);
  padding: 10px 14px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.15s;
}

.detail-tab:hover {
  color: var(--text);
}

.detail-tab.active {
  color: var(--accent);
  border-bottom-color: var(--accent);
}

.detail-tab-content {
  display: none;
  padding: 20px 24px;
  flex: 1;
}

.detail-tab-content.active {
  display: block;
}

/* Detail sections */
.detail-section {
  margin-bottom: 20px;
}

.detail-section h4 {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--text);
  margin: 0 0 8px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.detail-section p {
  font-size: var(--text-md);
  color: var(--muted);
  line-height: 1.6;
  margin: 0;
}

.detail-section-desc {
  font-size: var(--text-xs) !important;
  color: var(--muted-2) !important;
  margin-bottom: 10px !important;
}

/* AI Guidance card */
.ai-guidance-card {
  display: flex;
  gap: 10px;
  padding: 12px;
  background: rgba(138, 180, 255, 0.06);
  border: 1px solid rgba(138, 180, 255, 0.15);
  border-radius: 10px;
}

.ai-guidance-icon {
  font-size: 18px;
  flex-shrink: 0;
}

.ai-guidance-card p {
  font-size: var(--text-xs);
  line-height: 1.5;
  margin: 0 0 6px;
}

.ai-guidance-card p:last-child {
  margin-bottom: 0;
}

.ai-guidance-card strong {
  color: var(--text);
}

/* Detail metadata grid */
.detail-meta-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.detail-meta-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.detail-meta-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
  font-weight: 500;
}

.detail-meta-value {
  font-size: var(--text-sm);
  color: var(--text);
}

/* D-06a: Related assets */
.related-assets-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}

.related-asset {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border: 1px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.15s;
}

.related-asset:hover {
  background: var(--bg-soft);
}

.related-asset .mini-icon {
  width: 28px;
  height: 28px;
  font-size: 10px;
}

.related-asset h5 {
  font-size: var(--text-xs);
  font-weight: 600;
  margin: 0;
  color: var(--text);
}

.related-asset p {
  font-size: 10px;
  color: var(--muted-2);
  margin: 1px 0 0;
}

/* Schema block */
.schema-block {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px 14px;
  font-family: "SF Mono", "Cascadia Code", "Consolas", monospace;
  font-size: 11px;
  color: var(--muted);
  overflow-x: auto;
  line-height: 1.5;
  margin: 0;
  white-space: pre;
}

/* Compliance list */
.compliance-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.compliance-item {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: var(--text-sm);
  color: var(--muted);
}

.compliance-badge.lg {
  padding: 4px 10px;
  font-size: var(--text-xs);
}

/* Usage chart */
.usage-chart-placeholder {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 16px;
  margin-bottom: 14px;
}

.usage-stats-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

.usage-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: 10px;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 8px;
}

.usage-stat-value {
  font-size: var(--text-lg);
  font-weight: 700;
  color: var(--text);
}

.usage-stat-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
}

/* Version timeline */
.version-timeline {
  display: flex;
  flex-direction: column;
  gap: 0;
  position: relative;
  padding-left: 20px;
}

.version-timeline::before {
  content: '';
  position: absolute;
  left: 5px;
  top: 8px;
  bottom: 8px;
  width: 1px;
  background: var(--border);
}

.version-entry {
  position: relative;
  padding: 0 0 16px;
}

.version-entry:last-child {
  padding-bottom: 0;
}

.version-dot {
  position: absolute;
  left: -19px;
  top: 6px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--surface);
  border: 2px solid var(--border);
}

.version-entry.active .version-dot {
  background: var(--accent);
  border-color: var(--accent);
}

.version-content {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.version-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.version-date {
  font-size: var(--text-xs);
  color: var(--muted-2);
}


/* ═══════════ C3: HERO PLATFORM METRICS ═══════════ */

.hero-gateway-metrics {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-top: 20px;
  padding: 14px 20px;
  background: var(--bg-soft);
  border: 1px solid var(--border);
  border-radius: 12px;
}

.hero-metric {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.hero-metric-value {
  font-size: var(--text-lg);
  font-weight: 700;
  color: var(--text);
  font-variant-numeric: tabular-nums;
}

.hero-metric-value.gateway-healthy {
  color: #4ade80;
}

.hero-metric-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
  white-space: nowrap;
}

.hero-metric-divider {
  width: 1px;
  height: 32px;
  background: var(--border);
  flex-shrink: 0;
}

/* Hero search demo card */
.hero-search-demo {
  margin-top: 16px;
  padding: 14px 18px;
  background: rgba(138, 180, 255, 0.06);
  border: 1px solid rgba(138, 180, 255, 0.15);
  border-radius: 12px;
}

.hero-search-demo-header {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: var(--text-sm);
  color: var(--accent);
  font-weight: 600;
  margin-bottom: 10px;
}

.hero-search-demo-icon {
  font-size: 16px;
}

.hero-search-demo-examples {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.search-demo-query {
  background: rgba(138, 180, 255, 0.08);
  border: 1px solid rgba(138, 180, 255, 0.2);
  border-radius: 999px;
  padding: 6px 14px;
  font-size: var(--text-xs);
  color: var(--accent);
  cursor: pointer;
  transition: all 0.15s;
  font-family: var(--font-ui);
}

.search-demo-query:hover {
  background: rgba(138, 180, 255, 0.15);
  border-color: var(--accent);
}

/* Scenario coverage strip */
.scenario-coverage {
  margin-bottom: 30px;
}

.scenario-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 12px;
}

.scenario-card {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 14px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--bg-elev);
}

.scenario-card-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.scenario-card-head h4 {
  margin: 0;
  font-size: var(--text-md);
}

.scenario-plane {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--accent);
  border: 1px solid rgba(138, 180, 255, 0.35);
  background: rgba(138, 180, 255, 0.08);
  border-radius: 999px;
  padding: 3px 8px;
  white-space: nowrap;
}

.scenario-card p {
  margin: 0;
  font-size: var(--text-sm);
  color: var(--muted);
  line-height: 1.45;
}

.scenario-pill-row {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.scenario-pill {
  font-size: 10px;
  color: var(--muted-2);
  border: 1px solid var(--border);
  background: var(--bg-soft);
  border-radius: 999px;
  padding: 3px 8px;
}


/* ═══════════ SAVE TO COLLECTION ═══════════ */

.has-save {
  position: relative;
  cursor: pointer;
}

/* Save button injected by JS — inline in title row */
.card-save-btn {
  width: 22px;
  height: 22px;
  display: grid;
  place-items: center;
  font-size: 10px;
  border-radius: 5px;
  background: transparent;
  border: 1px solid transparent;
  opacity: 0;
  transition: all 0.15s;
  cursor: pointer;
  z-index: 4;
  color: var(--muted);
  line-height: 1;
  flex-shrink: 0;
}

.has-save:hover .card-save-btn {
  opacity: 1;
}

.card-save-btn:hover {
  background: rgba(138, 180, 255, 0.15);
  border-color: var(--accent);
  color: var(--accent);
  transform: scale(1.08);
}

.card-save-btn.saved {
  opacity: 1;
  color: var(--accent);
  background: rgba(138, 180, 255, 0.12);
  border-color: var(--accent);
}

/* Kebab menu on catalog cards — inline in title row */
.card-kebab-btn {
  position: relative;
  width: 22px;
  height: 22px;
  display: grid;
  place-items: center;
  font-size: 13px;
  border-radius: 5px;
  background: transparent;
  border: 1px solid transparent;
  opacity: 0;
  transition: all 0.15s;
  cursor: pointer;
  z-index: 4;
  color: var(--muted);
  line-height: 1;
  letter-spacing: 1px;
  flex-shrink: 0;
}

.has-save:hover .card-kebab-btn {
  opacity: 1;
}

.card-kebab-btn:hover {
  background: var(--bg-soft);
  color: var(--text);
  border-color: var(--border);
}

/* Kebab dropdown menu — positioned from kebab button */
.card-action-menu {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 2px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  box-shadow: 0 8px 24px var(--shadow);
  z-index: 100;
  min-width: 180px;
  padding: 4px;
  display: none;
}

.card-action-menu.open {
  display: block;
}

/* Raise the card with an open menu above its siblings */
.has-save:has(.card-action-menu.open) {
  z-index: 50;
}

.card-action-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 7px;
  font-size: var(--text-sm);
  color: var(--text);
  cursor: pointer;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
  font-family: var(--font-ui);
  transition: background 0.12s;
}

.card-action-item:hover {
  background: var(--bg-soft);
}

.card-action-item .action-icon {
  width: 16px;
  text-align: center;
  font-size: 13px;
  flex-shrink: 0;
}

/* Search result save button */
.search-result-save {
  width: 26px;
  height: 26px;
  display: grid;
  place-items: center;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--muted);
  font-size: 12px;
  cursor: pointer;
  transition: all 0.15s;
  flex-shrink: 0;
}

.search-result-save:hover {
  background: rgba(138, 180, 255, 0.12);
  border-color: var(--accent);
  color: var(--accent);
}


/* ═══════════ COLLECTIONS SIDEBAR ENHANCEMENTS ═══════════ */

.collections-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.collections-header .collections-title {
  margin-bottom: 0;
}

.collections-add-btn {
  width: 22px;
  height: 22px;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--muted);
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  display: grid;
  place-items: center;
  line-height: 1;
  transition: all 0.15s;
}

.collections-add-btn:hover {
  background: var(--bg-soft);
  color: var(--accent);
  border-color: var(--accent);
}

.tree-governance {
  margin-left: 2px;
  font-size: 10px;
  flex-shrink: 0;
}


/* ═══════════ COLLECTION MODALS ═══════════ */

.collection-modal {
  max-width: 560px;
}

.save-collection-modal {
  max-width: 480px;
}

.collection-modal-body {
  padding: 16px 24px 20px;
  overflow-y: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Form elements */
.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.form-label {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 6px;
}

.form-optional {
  font-weight: 400;
  color: var(--muted-2);
  font-size: var(--text-xs);
}

.form-input-prefix {
  display: flex;
  align-items: center;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
}

.form-prefix {
  padding: 8px 0 8px 12px;
  font-size: var(--text-sm);
  color: var(--muted-2);
  font-family: "SF Mono", "Cascadia Code", monospace;
  white-space: nowrap;
}

.form-input {
  flex: 1;
  background: transparent;
  border: none;
  padding: 8px 12px 8px 0;
  font-size: var(--text-sm);
  color: var(--text);
  outline: none;
  font-family: "SF Mono", "Cascadia Code", monospace;
}

.form-textarea {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 12px;
  font-size: var(--text-sm);
  color: var(--text);
  outline: none;
  resize: vertical;
  font-family: var(--font-ui);
  line-height: 1.5;
}

.form-textarea:focus,
.form-input:focus {
  border-color: var(--accent);
}

/* Tags */
.form-tags {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 6px 10px;
}

.form-tag {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 8px;
  background: rgba(138, 180, 255, 0.1);
  border: 1px solid rgba(138, 180, 255, 0.2);
  border-radius: 6px;
  font-size: var(--text-xs);
  color: var(--accent);
}

.form-tag button {
  background: none;
  border: none;
  color: var(--accent);
  font-size: 12px;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}

.form-tag-input {
  border: none;
  background: transparent;
  color: var(--text);
  font-size: var(--text-xs);
  outline: none;
  min-width: 80px;
}

/* Visibility options */
.visibility-options {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.visibility-option {
  cursor: pointer;
  padding: 0;
}

.visibility-option input[type="radio"] {
  display: none;
}

.visibility-card {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: 10px;
  transition: all 0.15s;
}

.visibility-option.active .visibility-card,
.visibility-option:hover .visibility-card {
  border-color: var(--accent);
  background: rgba(138, 180, 255, 0.06);
}

.visibility-icon {
  font-size: 18px;
  flex-shrink: 0;
}

.visibility-card strong {
  font-size: var(--text-sm);
  color: var(--text);
  display: block;
  margin-bottom: 1px;
}

.visibility-card p {
  font-size: var(--text-xs);
  color: var(--muted-2);
  margin: 0;
}

/* Governance info card */
.governance-info-card {
  display: flex;
  gap: 10px;
  padding: 12px;
  background: rgba(74, 222, 128, 0.04);
  border: 1px solid rgba(74, 222, 128, 0.15);
  border-radius: 10px;
}

.governance-info-icon {
  font-size: 16px;
  flex-shrink: 0;
}

.governance-info-card strong {
  font-size: var(--text-sm);
  color: var(--text);
  display: block;
  margin-bottom: 4px;
}

.governance-info-card p {
  font-size: var(--text-xs);
  color: var(--muted);
  margin: 0;
  line-height: 1.5;
}


/* ═══════════ SAVE TO COLLECTION MODAL ═══════════ */

.save-asset-preview {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: var(--bg-soft);
  border: 1px solid var(--border);
  border-radius: 10px;
}

.save-asset-preview h4 {
  margin: 0;
  font-size: var(--text-sm);
  font-weight: 600;
}

.save-collection-list {
  display: flex;
  flex-direction: column;
  gap: 4px;
  max-height: 280px;
  overflow-y: auto;
}

.save-collection-group-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  padding: 8px 0 4px;
}

.save-collection-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-size: var(--text-sm);
  color: var(--text);
  transition: background 0.15s;
}

.save-collection-item:hover {
  background: var(--bg-soft);
}

.save-collection-item input[type="checkbox"] {
  accent-color: var(--accent);
}

.save-collection-name {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.save-create-new-btn {
  background: none;
  border: 1px dashed var(--border);
  border-radius: 10px;
  padding: 10px 14px;
  color: var(--accent);
  font-size: var(--text-sm);
  font-weight: 500;
  cursor: pointer;
  text-align: left;
  font-family: var(--font-ui);
  transition: all 0.15s;
}

.save-create-new-btn:hover {
  border-color: var(--accent);
  background: rgba(138, 180, 255, 0.06);
}


/* ═══════════ ADD FROM COLLECTION MODAL (B-08) ═══════════ */

.collection-picker-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 300px;
  overflow-y: auto;
}

.collection-picker-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.15s;
}

.collection-picker-item:hover {
  background: var(--bg-soft);
}

.collection-picker-item.selected {
  border-color: var(--accent);
  background: rgba(138, 180, 255, 0.06);
}

.collection-picker-left {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  min-width: 0;
}

.collection-picker-left .tree-dot {
  flex-shrink: 0;
}

.collection-picker-left strong {
  font-size: var(--text-sm);
  color: var(--text);
  display: block;
}

.collection-picker-left p {
  font-size: var(--text-xs);
  color: var(--muted-2);
  margin: 2px 0 0;
}

.collection-picker-assets {
  display: flex;
  gap: 4px;
  flex-shrink: 0;
  flex-wrap: wrap;
  justify-content: flex-end;
}

/* Collection preview panel */
.collection-preview-panel {
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
}

.collection-preview-header {
  padding: 10px 14px;
  background: var(--bg-soft);
  border-bottom: 1px solid var(--border);
  font-size: var(--text-sm);
  color: var(--muted);
}

.collection-preview-header strong {
  color: var(--text);
}

.collection-preview-assets {
  padding: 6px 8px;
  max-height: 200px;
  overflow-y: auto;
}

.collection-preview-asset {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  border-radius: 6px;
  font-size: var(--text-sm);
  color: var(--text);
}

.collection-preview-asset:hover {
  background: var(--bg-soft);
}

.collection-preview-asset .mini-icon {
  width: 24px;
  height: 24px;
  font-size: 9px;
}

.collection-preview-asset .detail-type-badge {
  margin-left: auto;
}


/* ═══════════ FULL-PAGE DETAIL VIEWS ═══════════ */

.detail-page-topbar {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 8px;
}

.detail-back-btn {
  background: none;
  border: none;
  color: var(--muted);
  font-size: var(--text-sm);
  cursor: pointer;
  padding: 4px 8px;
  border-radius: 6px;
  transition: all 0.15s;
  flex-shrink: 0;
}

.detail-back-btn:hover {
  color: var(--text);
  background: var(--surface);
}

.detail-page-title {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  min-width: 0;
}

.detail-page-title h1 {
  margin: 0;
  font-size: 22px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.detail-page-topbar-actions {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.detail-page-desc {
  color: var(--muted);
  font-size: var(--text-sm);
  line-height: 1.55;
  margin: 0 0 10px;
  max-width: 720px;
}

.detail-page-link {
  font-size: var(--text-xs);
  color: var(--accent);
  text-decoration: none;
  display: inline-block;
  margin-bottom: 20px;
}

.detail-page-link:hover {
  text-decoration: underline;
}

/* Detail page tabs */
.detail-page-tabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--border);
  margin-bottom: 24px;
}

.detail-page-tab {
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  color: var(--muted);
  font-size: var(--text-sm);
  padding: 10px 16px;
  cursor: pointer;
  transition: all 0.15s;
}

.detail-page-tab:hover {
  color: var(--text);
}

.detail-page-tab.active {
  color: var(--text);
  border-bottom-color: var(--accent);
}

/* Detail page body layout */
.detail-page-body {
  display: block;
}

.detail-page-with-sidebar {
  display: grid;
  grid-template-columns: 1fr 280px;
  gap: 32px;
  align-items: start;
}

.detail-page-main {
  min-width: 0;
}

.detail-page-tab-content {
  display: none;
}

.detail-page-tab-content.active {
  display: block;
}

/* Detail page sidebar */
.detail-page-sidebar {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.detail-sidebar-section {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}

.detail-sidebar-section h4 {
  margin: 0 0 12px;
  font-size: var(--text-sm);
  font-weight: 600;
}

.detail-facts-grid {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.detail-fact {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 8px;
}

.detail-fact-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
}

.detail-fact-value {
  font-size: var(--text-xs);
  color: var(--text);
  text-align: right;
}

.detail-fact-link {
  font-size: var(--text-xs);
  color: var(--accent);
  text-decoration: none;
}

.detail-fact-link:hover {
  text-decoration: underline;
}

/* Model ID block */
.detail-model-id {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  background: var(--surface);
  border-radius: 8px;
  padding: 10px;
}

.detail-model-id code {
  font-size: 10px;
  color: var(--muted);
  word-break: break-all;
  line-height: 1.4;
  flex: 1;
}

.detail-model-id .copy-btn {
  padding: 2px 4px;
  font-size: 12px;
  flex-shrink: 0;
}

/* Also used section */
.detail-also-used {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Provider badge */
.detail-provider-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 6px 12px;
  font-size: var(--text-xs);
  margin-bottom: 20px;
}

/* Use cases grid */
.use-cases-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 16px;
}

.use-case-card {
  display: flex;
  gap: 12px;
  padding: 16px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
}

.use-case-icon {
  font-size: 20px;
  flex-shrink: 0;
  margin-top: 2px;
}

.use-case-card h4 {
  margin: 0 0 4px;
  font-size: var(--text-sm);
  font-weight: 600;
}

.use-case-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
  line-height: 1.45;
}

/* Detail feature list */
.detail-feature-list {
  padding-left: 18px;
  margin: 8px 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.detail-feature-list li {
  font-size: var(--text-xs);
  color: var(--muted);
  line-height: 1.5;
}

/* Collapsible sections */
.detail-section.collapsible h3 {
  cursor: pointer;
}

/* Contact list */
.detail-contact-list {
  padding-left: 18px;
  margin: 6px 0 0;
}

.detail-contact-list li {
  font-size: var(--text-xs);
  color: var(--muted);
}

/* Agent asset rows */
.agent-asset-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.agent-asset-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: var(--surface);
  border-radius: 8px;
}

.agent-asset-row h5 {
  margin: 0;
  font-size: var(--text-sm);
  font-weight: 600;
}

.agent-asset-row p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
}

/* Eval results grid */
.eval-results-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 12px;
}

.eval-result {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 16px 12px;
  background: var(--surface);
  border-radius: 10px;
  border: 1px solid var(--border);
}

.eval-result-value {
  font-size: 22px;
  font-weight: 700;
  color: var(--accent);
}

.eval-result-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
}

/* Responsive detail pages */
@media (max-width: 900px) {
  .detail-page-with-sidebar {
    grid-template-columns: 1fr;
  }
  .detail-page-sidebar {
    order: -1;
  }
  .detail-page-topbar {
    flex-wrap: wrap;
  }
  .eval-results-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}


@media (max-width: 600px) {
  .topbar {
    flex-direction: column;
    align-items: stretch;
  }

  .top-left {
    width: 100%;
    justify-content: space-between;
    flex-wrap: wrap;
  }

  .top-actions {
    width: 100%;
    justify-content: space-between;
  }

  .global-search {
    max-width: none;
  }

  .catalog-actions {
    flex-direction: column;
    align-items: stretch;
  }

  .search-results-dropdown {
    left: 0;
  }

  .search-results-header {
    flex-direction: column;
    gap: 6px;
  }

  .search-result-item {
    flex-direction: column;
    align-items: flex-start;
  }

  .search-result-right {
    flex-wrap: wrap;
  }

  .detail-panel {
    width: 100vw;
  }

  .hero-gateway-metrics {
    flex-wrap: wrap;
    justify-content: center;
  }

  .hero-metric-divider {
    display: none;
  }

  .scenario-grid {
    grid-template-columns: 1fr;
  }

  .observe-grid {
    grid-template-columns: 1fr;
  }

  .observe-list-row {
    flex-direction: column;
    align-items: flex-start;
  }

  .observe-list-row span:last-child {
    text-align: left;
  }

  .observe-alert-card {
    flex-direction: column;
  }

  .usage-stats-row {
    grid-template-columns: 1fr 1fr;
  }

  .related-assets-grid {
    grid-template-columns: 1fr;
  }

  .detail-meta-grid {
    grid-template-columns: 1fr;
  }
}


/* ═══════════════════════════════════════════════════════════ */
/* ═══════════ CAPABILITIES PAGE                ═══════════ */
/* ═══════════════════════════════════════════════════════════ */

.cap-subtitle {
  margin: 4px 0 0;
  font-size: var(--text-sm);
  color: var(--muted);
  line-height: 1.4;
}

/* --- Semantic search bar --- */
.cap-semantic-search {
  display: flex;
  align-items: center;
  gap: 12px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px 18px;
  margin-bottom: 16px;
  transition: border-color 0.15s;
}
.cap-semantic-search:focus-within {
  border-color: var(--accent);
}
.cap-search-sparkle {
  font-size: 20px;
  flex-shrink: 0;
}
.cap-semantic-search input {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: var(--text-sm);
  outline: none;
}
.cap-semantic-search input::placeholder {
  color: var(--muted-2);
}
.cap-search-label {
  font-size: var(--text-xs);
  color: var(--accent);
  font-weight: 600;
  white-space: nowrap;
  padding: 4px 10px;
  background: rgba(138, 180, 255, 0.1);
  border: 1px solid rgba(138, 180, 255, 0.2);
  border-radius: 999px;
}

/* --- Quick access chips --- */
.cap-quick-access {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
  padding: 10px 16px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
}
.cap-quick-label {
  font-size: var(--text-xs);
  color: var(--muted-2);
  white-space: nowrap;
  margin-right: 4px;
}
.cap-quick-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 999px;
  font-size: var(--text-xs);
  color: var(--text);
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}
.cap-quick-chip:hover {
  border-color: var(--accent);
  background: var(--bg-soft);
}
.cap-quick-icon {
  width: 22px;
  height: 22px;
  border-radius: 6px;
  display: grid;
  place-items: center;
  font-size: 12px;
  flex-shrink: 0;
}
.cap-quick-badge {
  font-size: 9px;
  padding: 1px 6px;
  border-radius: 999px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}
.cap-quick-badge.recent {
  color: var(--accent);
  background: rgba(138, 180, 255, 0.12);
  border: 1px solid rgba(138, 180, 255, 0.2);
}
.cap-quick-badge.popular {
  color: #f59e0b;
  background: rgba(245, 158, 11, 0.12);
  border: 1px solid rgba(245, 158, 11, 0.2);
}

/* --- Filter bar --- */
.cap-filter-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}
.cap-filter-heading {
  font-size: var(--text-md);
  font-weight: 600;
  color: var(--text);
  margin-right: 4px;
}
.cap-filter-tabs {
  display: flex;
  gap: 6px;
  flex: 1;
}
.cap-sort {
  margin-left: auto;
}

/* --- Capability card grid --- */
.cap-card-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 14px;
}

/* --- Capability card --- */
.cap-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  transition: border-color 0.15s, box-shadow 0.15s;
  cursor: pointer;
}
.cap-card:hover {
  border-color: rgba(138, 180, 255, 0.3);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.cap-card-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 4px;
}
.cap-card-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  font-size: 22px;
  flex-shrink: 0;
}
.cap-badges {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

/* --- Capability badges --- */
.cap-badge {
  font-size: 9px;
  padding: 2px 8px;
  border-radius: 999px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  white-space: nowrap;
}
.cap-badge.popular,
.cap-badge.trending {
  color: #f97316;
  background: rgba(249, 115, 22, 0.12);
  border: 1px solid rgba(249, 115, 22, 0.2);
}
.cap-badge.microsoft {
  color: var(--accent);
  background: rgba(138, 180, 255, 0.12);
  border: 1px solid rgba(138, 180, 255, 0.2);
}
.cap-badge.org {
  color: #2dd4bf;
  background: rgba(45, 212, 191, 0.12);
  border: 1px solid rgba(45, 212, 191, 0.2);
}
.cap-badge.partner {
  color: var(--success);
  background: rgba(155, 212, 168, 0.12);
  border: 1px solid rgba(155, 212, 168, 0.2);
}
.cap-badge.draft {
  color: var(--muted);
  background: var(--surface);
  border: 1px solid var(--border);
}
.cap-badge.published {
  color: var(--success);
  background: rgba(155, 212, 168, 0.12);
  border: 1px solid rgba(155, 212, 168, 0.2);
}

/* Card content */
.cap-card h4 {
  margin: 0;
  font-size: var(--text-md);
  font-weight: 600;
}
.cap-card > p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted);
  line-height: 1.45;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.cap-card-stats {
  display: flex;
  gap: 12px;
  font-size: 10px;
  color: var(--muted-2);
  margin-top: 2px;
}
.cap-card-meta {
  font-size: 10px;
  color: var(--muted-2);
}

/* Asset composition */
.cap-card-composition {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-top: 2px;
}
.cap-comp-item {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 6px;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--muted);
  white-space: nowrap;
}
.cap-comp-item.model { color: #a78bfa; border-color: rgba(167, 139, 250, 0.2); background: rgba(167, 139, 250, 0.06); }
.cap-comp-item.tool  { color: #38bdf8; border-color: rgba(56, 189, 248, 0.2);  background: rgba(56, 189, 248, 0.06); }
.cap-comp-item.agent { color: #4ade80; border-color: rgba(74, 222, 128, 0.2);  background: rgba(74, 222, 128, 0.06); }
.cap-comp-item.skill { color: #fbbf24; border-color: rgba(251, 191, 36, 0.2);  background: rgba(251, 191, 36, 0.06); }

.cap-card-footer {
  margin-top: auto;
  display: flex;
  justify-content: flex-end;
  padding-top: 4px;
}
.cap-preview-link {
  font-size: var(--text-xs);
  color: var(--accent);
  text-decoration: none;
  font-weight: 600;
}
.cap-preview-link:hover {
  text-decoration: underline;
}

/* --- My Capabilities --- */
.cap-my-section {
  margin-bottom: 28px;
}
.cap-my-section h3 {
  font-size: var(--text-lg);
  margin: 0 0 14px;
}
.cap-my-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 14px;
}
.cap-card.cap-draft {
  opacity: 0.85;
  border-style: dashed;
}

/* --- Create Capability Modal --- */
.cap-create-modal {
  max-width: 640px;
}
.cap-create-body {
  padding: 0 24px 20px;
  overflow-y: auto;
  max-height: 65vh;
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.cap-create-intro {
  font-size: var(--text-sm);
  color: var(--muted);
  line-height: 1.5;
  margin: 0;
}

/* Step rows */
.cap-step {
  display: flex;
  gap: 14px;
  padding: 16px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 14px;
}
.cap-step-number {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: rgba(138, 180, 255, 0.12);
  border: 1px solid rgba(138, 180, 255, 0.25);
  color: var(--accent);
  font-size: var(--text-sm);
  font-weight: 700;
  display: grid;
  place-items: center;
  flex-shrink: 0;
  margin-top: 2px;
}
.cap-step-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-width: 0;
}
.cap-step-content h3 {
  margin: 0;
  font-size: var(--text-md);
  font-weight: 600;
}

/* Form inputs */
.cap-form-input,
.cap-form-textarea {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 12px;
  font-size: var(--text-sm);
  color: var(--text);
  outline: none;
  width: 100%;
  font-family: inherit;
  resize: vertical;
}
.cap-form-input:focus,
.cap-form-textarea:focus {
  border-color: var(--accent);
}
.cap-form-input::placeholder,
.cap-form-textarea::placeholder {
  color: var(--muted-2);
}
.cap-select-wrapper {
  position: relative;
}
.cap-select {
  appearance: none;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 32px 8px 12px;
  font-size: var(--text-sm);
  color: var(--text);
  outline: none;
  width: 100%;
  font-family: inherit;
  cursor: pointer;
}
.cap-select:focus {
  border-color: var(--accent);
}
.cap-select-wrapper::after {
  content: "▾";
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--muted-2);
  font-size: 12px;
  pointer-events: none;
}

/* Tool search in modal */
.cap-tool-search {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 8px 8px 12px;
  transition: border-color 0.15s;
}
.cap-tool-search:focus-within {
  border-color: var(--accent);
}
.cap-tool-search input {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: var(--text-sm);
  outline: none;
}
.cap-tool-search input::placeholder {
  color: var(--muted-2);
}
.cap-tool-search-btn {
  padding: 4px 14px !important;
  font-size: var(--text-xs) !important;
  border-radius: 8px !important;
}
.cap-tool-hint {
  font-size: var(--text-xs);
  color: var(--muted-2);
  margin: 0;
}

/* Popular tool chips */
.cap-popular-tools {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.cap-tool-chip {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 999px;
  font-size: var(--text-xs);
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s;
}
.cap-tool-chip:hover {
  border-color: var(--accent);
  color: var(--text);
}
.cap-tool-chip.selected {
  background: rgba(138, 180, 255, 0.12);
  border-color: var(--accent);
  color: var(--accent);
}

/* Visibility options */
.cap-visibility-options {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.cap-visibility-option {
  cursor: pointer;
}
.cap-visibility-option input[type="radio"] {
  display: none;
}
.cap-visibility-card {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: 10px;
  transition: all 0.15s;
}
.cap-visibility-option:hover .cap-visibility-card {
  border-color: var(--muted);
}
.cap-visibility-option.active .cap-visibility-card {
  border-color: var(--accent);
  background: rgba(138, 180, 255, 0.05);
}
.cap-visibility-icon {
  font-size: 18px;
  flex-shrink: 0;
  margin-top: 2px;
}
.cap-visibility-card strong {
  display: block;
  font-size: var(--text-sm);
  margin-bottom: 2px;
}
.cap-visibility-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted-2);
  line-height: 1.4;
}

/* --- Capabilities responsive --- */
@media (max-width: 1400px) {
  .cap-card-grid { grid-template-columns: repeat(4, 1fr); }
}
@media (max-width: 1100px) {
  .cap-card-grid { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 800px) {
  .cap-card-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 550px) {
  .cap-card-grid { grid-template-columns: 1fr; }
}

/* ═══════════════════════════════════════════════════════ */
/* AGENT EDITOR — ae-* prefixed styles                    */
/* ═══════════════════════════════════════════════════════ */

.ae-editor-layout {
  display: grid;
  grid-template-columns: 3fr 2fr;
  gap: 0;
  height: calc(100vh - 52px);
  min-height: 0;
}

/* ── Left Panel: Config ── */
.ae-config-panel {
  overflow-y: auto;
  padding: 24px 28px 40px;
}

.ae-editor-header {
  margin-bottom: 20px;
}

.ae-back-link {
  display: inline-block;
  color: var(--accent);
  font-size: var(--text-sm);
  text-decoration: none;
  margin-bottom: 12px;
  cursor: pointer;
}
.ae-back-link:hover {
  text-decoration: underline;
}

.ae-title-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
.ae-title-row h1 {
  margin: 0;
  font-size: 22px;
}

.ae-status-badge {
  font-size: var(--text-xs);
  padding: 3px 10px;
  border-radius: 999px;
  font-weight: 600;
}
.ae-status-badge.published {
  background: rgba(52, 211, 153, 0.15);
  color: #34d399;
}
.ae-status-badge.draft {
  background: rgba(156, 163, 175, 0.15);
  color: var(--muted);
}

.ae-header-actions {
  display: flex;
  gap: 10px;
}

/* ── Config Tabs ── */
.ae-config-tabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--border);
  margin-bottom: 20px;
  overflow-x: auto;
}

.ae-config-tab {
  background: none;
  border: none;
  color: var(--muted);
  font-size: var(--text-sm);
  padding: 10px 16px;
  cursor: pointer;
  white-space: nowrap;
  border-bottom: 2px solid transparent;
  transition: color 0.15s, border-color 0.15s;
}
.ae-config-tab:hover {
  color: var(--text);
}
.ae-config-tab.active {
  color: var(--accent);
  border-bottom-color: var(--accent);
  font-weight: 600;
}

.ae-config-pane {
  display: none;
}
.ae-config-pane.active {
  display: block;
}

/* ── Section titles ── */
.ae-section-title {
  font-size: 15px;
  font-weight: 600;
  margin: 0 0 12px;
}
.ae-section-subtitle {
  font-size: var(--text-sm);
  color: var(--muted);
  margin: -8px 0 20px;
}
.ae-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}
.ae-section-header .ae-section-title {
  margin: 0;
}

/* ── Version info ── */
.ae-version-info {
  display: flex;
  gap: 24px;
  margin-top: 20px;
  padding: 14px 16px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
}
.ae-version-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: var(--text-sm);
}
.ae-version-label {
  color: var(--muted);
  font-size: var(--text-xs);
}

/* ── Model card ── */
.ae-model-card {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 16px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
}
.ae-model-icon {
  flex-shrink: 0;
}
.ae-model-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.ae-model-provider {
  font-size: var(--text-xs);
  color: var(--muted);
}

/* ── Param row ── */
.ae-param-row {
  display: flex;
  gap: 16px;
}

/* ── Slider ── */
.ae-slider {
  width: 100%;
  height: 6px;
  -webkit-appearance: none;
  appearance: none;
  background: var(--border);
  border-radius: 3px;
  outline: none;
  cursor: pointer;
}
.ae-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
}
.ae-slider::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: none;
}
.ae-slider-labels {
  display: flex;
  justify-content: space-between;
  font-size: var(--text-xs);
  color: var(--muted);
  margin-top: 4px;
}

/* ── Fallback section ── */
.ae-fallback-section {
  margin-top: 24px;
  padding: 14px 16px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
}
.ae-fallback-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: var(--text-sm);
  font-weight: 600;
}
.ae-fallback-body {
  margin-top: 14px;
}

/* ── Tool / Skill cards ── */
.ae-tool-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.ae-tool-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  transition: border-color 0.15s;
}
.ae-tool-card:hover {
  border-color: var(--muted-2);
}
.ae-tool-icon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.ae-tool-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}
.ae-tool-info strong {
  font-size: var(--text-sm);
}
.ae-tool-type {
  font-size: var(--text-xs);
  color: var(--muted);
}
.ae-tool-remove {
  background: none;
  border: none;
  color: var(--muted-2);
  font-size: 18px;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 4px;
  line-height: 1;
}
.ae-tool-remove:hover {
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
}

.ae-tool-list.ae-suggested .ae-tool-card {
  opacity: 0.6;
  border-style: dashed;
}

/* ── KB status ── */
.ae-kb-status {
  font-size: var(--text-xs);
  color: #34d399;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
}
.ae-empty-kb {
  margin-top: 20px;
  padding: 20px;
  border: 1px dashed var(--border);
  border-radius: 10px;
  text-align: center;
  color: var(--muted);
  font-size: var(--text-sm);
}
.ae-empty-kb p {
  margin: 0 0 12px;
}

/* ── Guardrail cards ── */
.ae-guardrail-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.ae-guardrail-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  transition: border-color 0.15s;
}
.ae-guardrail-card:hover {
  border-color: var(--muted-2);
}
.ae-guardrail-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  cursor: pointer;
}
.ae-guardrail-icon {
  font-size: 20px;
  flex-shrink: 0;
}
.ae-guardrail-title {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.ae-guardrail-title strong {
  font-size: var(--text-sm);
}
.ae-guardrail-title span {
  font-size: var(--text-xs);
  color: var(--muted);
}
.ae-guardrail-config {
  padding: 0 16px 16px;
  border-top: 1px solid var(--border);
  padding-top: 14px;
}

/* ── Checkbox / Radio groups ── */
.ae-checkbox-group, .ae-radio-group {
  display: flex;
  flex-wrap: wrap;
  gap: 8px 16px;
  margin-top: 6px;
}
.ae-checkbox, .ae-radio {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: var(--text-sm);
  color: var(--text);
  cursor: pointer;
}
.ae-checkbox input, .ae-radio input {
  accent-color: var(--accent);
}

/* ── Token display ── */
.ae-token-display {
  margin-top: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.ae-token-display code {
  font-size: var(--text-xs);
  color: var(--muted);
  background: var(--surface);
  padding: 8px 12px;
  border-radius: 6px;
  word-break: break-all;
}

/* ── Inline toggle ── */
.ae-inline-toggle {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: var(--text-sm);
  margin-top: 12px;
  padding: 10px 0;
  border-top: 1px solid var(--border);
}

/* ── Select ── */
.ae-select {
  background: var(--surface) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
}

/* ── Sampling display ── */
.ae-sampling-display {
  display: flex;
  align-items: center;
  gap: 10px;
}
.ae-sampling-display span {
  font-size: var(--text-sm);
  font-weight: 600;
  white-space: nowrap;
  min-width: 40px;
}

/* ═══════════ Right Panel: Playground ═══════════ */

.ae-playground-panel {
  border-left: 1px solid var(--border);
  background: var(--surface);
  display: flex;
  flex-direction: column;
  height: 100%;
  position: sticky;
  top: 0;
}

.ae-playground-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}
.ae-playground-header h3 {
  margin: 0;
  font-size: 15px;
}

.ae-model-pill {
  font-size: var(--text-xs);
  padding: 3px 10px;
  border-radius: 999px;
  background: rgba(138, 180, 255, 0.12);
  color: var(--accent);
  font-weight: 600;
}

/* ── Chat area ── */
.ae-chat-area {
  flex: 1;
  overflow-y: auto;
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.ae-chat-system {
  font-size: var(--text-xs);
  color: var(--muted);
  padding: 10px 14px;
  background: var(--bg-elev);
  border-radius: 8px;
  border: 1px solid var(--border);
  line-height: 1.5;
}
.ae-system-label {
  display: inline-block;
  font-weight: 600;
  color: var(--muted-2);
  margin-right: 8px;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.ae-chat-bubble {
  padding: 12px 16px;
  border-radius: 12px;
  font-size: var(--text-sm);
  line-height: 1.55;
  max-width: 95%;
}
.ae-chat-bubble.user {
  background: rgba(138, 180, 255, 0.1);
  border: 1px solid rgba(138, 180, 255, 0.2);
  align-self: flex-end;
  color: var(--text);
}
.ae-chat-bubble.assistant {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  align-self: flex-start;
  color: var(--text);
}
.ae-chat-bubble p {
  margin: 8px 0;
}
.ae-chat-bubble p:first-child {
  margin-top: 0;
}
.ae-chat-bubble ul {
  margin: 6px 0;
  padding-left: 18px;
}
.ae-chat-bubble li {
  margin: 4px 0;
  font-size: var(--text-xs);
}

/* ── Tool calls ── */
.ae-tool-call {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--surface);
  border-left: 3px solid var(--accent);
  border-radius: 0 6px 6px 0;
  margin-bottom: 8px;
  font-size: var(--text-xs);
}
.ae-tool-call-label {
  font-weight: 600;
  color: var(--accent);
  white-space: nowrap;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.ae-tool-call code {
  font-family: 'Cascadia Code', 'Fira Code', monospace;
  color: var(--muted);
  font-size: 11px;
}

/* ── Gateway annotation badges ── */
.ae-gateway-annotations {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
}
.ae-gateway-badge {
  font-size: 10px;
  padding: 3px 8px;
  border-radius: 999px;
  font-weight: 600;
  white-space: nowrap;
}
.ae-gateway-badge.pii {
  background: rgba(52, 211, 153, 0.12);
  color: #34d399;
}
.ae-gateway-badge.content {
  background: rgba(52, 211, 153, 0.12);
  color: #34d399;
}
.ae-gateway-badge.latency {
  background: rgba(156, 163, 175, 0.12);
  color: var(--muted);
}
.ae-gateway-badge.tokens {
  background: rgba(156, 163, 175, 0.12);
  color: var(--muted);
}

/* ── Chat input ── */
.ae-chat-input-area {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  padding: 12px 20px;
  border-top: 1px solid var(--border);
  flex-shrink: 0;
}
.ae-chat-input {
  flex: 1;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 14px;
  color: var(--text);
  font-size: var(--text-sm);
  resize: none;
  font-family: inherit;
  outline: none;
  transition: border-color 0.15s;
}
.ae-chat-input:focus {
  border-color: var(--accent);
}
.ae-chat-input-area .primary {
  flex-shrink: 0;
  width: 38px;
  height: 38px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
}

/* ── Gateway indicator ── */
.ae-gateway-indicator {
  font-size: 11px;
  color: var(--muted);
  padding: 8px 20px 14px;
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

/* ── Responsive ── */
@media (max-width: 900px) {
  .ae-editor-layout {
    grid-template-columns: 1fr;
    height: auto;
  }
  .ae-playground-panel {
    position: relative;
    border-left: none;
    border-top: 1px solid var(--border);
    min-height: 500px;
  }
}

/* ═══════════════════════════════════════════════════════ */
/* CONNECT TOOL MODAL — ct-* prefixed styles              */
/* ═══════════════════════════════════════════════════════ */

.ct-modal-overlay {
  z-index: 110;
}

.ct-modal {
  max-width: 640px;
}

.ct-modal-body {
  padding: 16px 24px 8px;
  overflow-y: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.ct-subtitle {
  margin: 0 0 14px;
  font-size: var(--text-sm);
  color: var(--muted);
  line-height: 1.55;
}

.ct-warning {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 12px 16px;
  border: 1px solid rgba(251, 191, 36, 0.2);
  border-radius: 10px;
  background: rgba(251, 191, 36, 0.04);
  margin-bottom: 16px;
  font-size: var(--text-xs);
  color: var(--muted);
  line-height: 1.55;
}

.ct-link {
  color: var(--accent);
  text-decoration: underline;
}

.ct-form-fields {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.ct-required {
  color: #ef4444;
  font-weight: 400;
}

.ct-info-icon {
  font-size: 13px;
  color: var(--muted-2);
  cursor: help;
  opacity: 0.7;
}

/* ── Input ── */
.ct-input {
  width: 100%;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px 14px;
  font-size: var(--text-sm);
  color: var(--text);
  outline: none;
  font-family: inherit;
  box-sizing: border-box;
}

.ct-input:focus {
  border-color: var(--accent);
}

.ct-input::placeholder {
  color: var(--muted-2);
}

/* ── Auth display (read-only) ── */
.ct-auth-display {
  padding: 10px 14px;
  background: transparent;
  font-size: var(--text-sm);
  color: var(--text);
}

/* ── Auth sections ── */
.ct-auth-section {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* ── OAuth radio cards ── */
.ct-radio-options {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ct-radio-option {
  cursor: pointer;
  display: block;
}

.ct-radio-option input[type="radio"] {
  display: none;
}

.ct-radio-card {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 14px;
  border: 1px solid var(--border);
  border-radius: 10px;
  transition: border-color 0.15s, background 0.15s;
}

.ct-radio-option:hover .ct-radio-card {
  border-color: var(--muted);
}

.ct-radio-option.active .ct-radio-card {
  border-color: var(--accent-strong);
  background: rgba(138, 180, 255, 0.04);
}

.ct-radio-indicator {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid var(--border);
  flex-shrink: 0;
  margin-top: 1px;
  position: relative;
  transition: border-color 0.15s;
}

.ct-radio-option.active .ct-radio-indicator {
  border-color: var(--accent-strong);
}

.ct-radio-option.active .ct-radio-indicator::after {
  content: "";
  position: absolute;
  top: 3px;
  left: 3px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--accent-strong);
}

.ct-radio-card strong {
  display: block;
  font-size: var(--text-sm);
  margin-bottom: 2px;
}

.ct-radio-card p {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted);
  line-height: 1.4;
}

/* ── OAuth 2-col grid ── */
.ct-oauth-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 16px;
}
.ct-oauth-grid:last-child {
  margin-bottom: 0;
}

/* ── Input with visibility toggle ── */
.ct-input-with-toggle {
  display: flex;
  align-items: center;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
  transition: border-color 0.15s;
}

.ct-input-with-toggle:focus-within {
  border-color: var(--accent);
}

.ct-input-with-toggle .ct-input {
  border: none;
  border-radius: 0;
  background: transparent;
}

.ct-toggle-vis {
  background: none;
  border: none;
  color: var(--muted-2);
  cursor: pointer;
  padding: 10px 12px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  transition: color 0.15s;
}

.ct-toggle-vis:hover {
  color: var(--text);
}

/* ── Key-based credential row ── */
.ct-credential-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.ct-credential-label {
  font-size: var(--text-sm);
  color: var(--accent);
  font-weight: 600;
  white-space: nowrap;
}

.ct-credential-sep {
  color: var(--muted-2);
  font-size: var(--text-sm);
  flex-shrink: 0;
}

/* ═══════════════════════════════════════════════════════ */
/* TOOL DETAIL ENHANCEMENTS — td-* prefixed styles        */
/* ═══════════════════════════════════════════════════════ */

/* ── Connected badge ── */
.td-connected-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: var(--text-sm);
  font-weight: 600;
  color: #34d399;
  padding: 5px 14px;
  border-radius: 999px;
  background: rgba(52, 211, 153, 0.1);
  border: 1px solid rgba(52, 211, 153, 0.2);
}

/* ── Connection card ── */
.td-connection-card {
  background: var(--bg-elev);
  border: 1px solid rgba(52, 211, 153, 0.2);
  border-radius: 12px;
  padding: 16px 20px;
  margin-bottom: 8px;
}
.td-connection-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
}
.td-connection-id {
  font-size: var(--text-xs);
  color: var(--muted);
  font-family: 'Cascadia Code', 'Fira Code', monospace;
}
.td-connection-details {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.td-detail-row {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: var(--text-sm);
}
.td-detail-label {
  color: var(--muted);
  min-width: 120px;
  font-size: var(--text-xs);
}
.td-endpoint-display {
  font-family: 'Cascadia Code', 'Fira Code', monospace;
  font-size: 12px;
  color: var(--accent);
  background: var(--surface);
  padding: 4px 10px;
  border-radius: 6px;
}
.td-origin-endpoint {
  color: var(--muted);
  font-size: 11px;
}

/* ── Policy grid ── */
.td-policy-grid {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.td-policy-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  transition: border-color 0.15s;
}
.td-policy-item:hover {
  border-color: var(--muted-2);
}
.td-policy-icon {
  font-size: 18px;
  flex-shrink: 0;
}
.td-policy-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.td-policy-info strong {
  font-size: var(--text-sm);
}
.td-policy-info span {
  font-size: var(--text-xs);
  color: var(--muted);
}
.td-policy-status {
  font-size: var(--text-xs);
  font-weight: 600;
  padding: 3px 10px;
  border-radius: 999px;
  white-space: nowrap;
}
.td-policy-status.td-enabled {
  color: #34d399;
  background: rgba(52, 211, 153, 0.1);
}
.td-policy-status.td-disabled {
  color: var(--muted);
  background: rgba(156, 163, 175, 0.1);
}

/* ── Metrics row ── */
.td-metrics-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}
.td-metric-card {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 14px 16px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 10px;
  text-align: center;
}
.td-metric-value {
  font-size: 20px;
  font-weight: 700;
  color: var(--text);
}
.td-metric-label {
  font-size: var(--text-xs);
  color: var(--muted);
}

/* ── Admin actions ── */
.td-admin-actions {
  display: flex;
  gap: 10px;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--border);
}

/* ── Governance inherited note ── */
.td-inherited-note {
  font-size: var(--text-xs);
  color: var(--muted);
  margin: -4px 0 12px;
  line-height: 1.5;
}

.td-inherited-badge {
  font-size: 10px;
  font-weight: 600;
  color: var(--muted);
  background: rgba(156, 163, 175, 0.1);
  padding: 2px 8px;
  border-radius: 999px;
  margin-left: auto;
  white-space: nowrap;
}

.td-status-badge {
  font-size: 10px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 999px;
  margin-left: auto;
  white-space: nowrap;
}
.td-status-badge.active {
  color: #34d399;
  background: rgba(52, 211, 153, 0.1);
}

/* ── Sidebar operate links ── */
.td-operate-links {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.td-operate-link {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--text-sm);
  color: var(--muted);
  text-decoration: none;
  padding: 8px 10px;
  border-radius: 8px;
  transition: background 0.15s, color 0.15s;
}
.td-operate-link:hover {
  background: var(--bg-elev);
  color: var(--accent);
}
.td-operate-link span {
  font-size: 14px;
}

/* ═══════════════════════════════════════════════════
   GOVERNANCE PAGE  (gv-* prefix)
   ═══════════════════════════════════════════════════ */

/* ── Tab content ── */
.gv-tab-content { display: none; }
.gv-tab-content.active { display: block; }

/* ── Type pill toggle (All / Design-time / Runtime) ── */
.gv-type-pills {
  display: flex;
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
  margin-left: auto;
}
.gv-type-pill {
  padding: 6px 14px;
  font-size: 12px;
  font-weight: 500;
  border: none;
  background: var(--surface);
  color: var(--muted);
  cursor: pointer;
  border-right: 1px solid var(--border);
  transition: background .15s, color .15s;
}
.gv-type-pill:last-child { border-right: none; }
.gv-type-pill.active {
  background: var(--fg);
  color: var(--bg);
}
.gv-type-pill:hover:not(.active) { color: var(--fg); }

/* ── Type badges (Runtime / Design-time) ── */
.gv-badge-runtime {
  display: inline-block;
  padding: 2px 10px;
  font-size: 11px;
  font-weight: 600;
  border: 1px solid var(--accent);
  border-radius: 12px;
  color: var(--accent);
  background: rgba(var(--accent-rgb), .08);
}
.gv-badge-designtime {
  display: inline-block;
  padding: 2px 10px;
  font-size: 11px;
  font-weight: 600;
  border: 1px solid #3b82f6;
  border-radius: 12px;
  color: #3b82f6;
  background: rgba(59, 130, 246, .08);
}

/* ── Enforcement badges ── */
.gv-badge-enforcing {
  display: inline-block;
  padding: 2px 10px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 12px;
  color: #16a34a;
  background: rgba(22, 163, 74, .1);
}
.gv-badge-audit {
  display: inline-block;
  padding: 2px 10px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 12px;
  color: #d97706;
  background: rgba(217, 119, 6, .1);
}

/* ── Category badges ── */
.gv-cat-badge {
  display: inline-block;
  padding: 2px 8px;
  font-size: 11px;
  font-weight: 500;
  border-radius: 4px;
  white-space: nowrap;
}
.gv-cat-badge.safety { color: #16a34a; background: rgba(22, 163, 74, .1); }
.gv-cat-badge.data-prot { color: #7c3aed; background: rgba(124, 58, 237, .1); }
.gv-cat-badge.rate-limit { color: #d97706; background: rgba(217, 119, 6, .1); }
.gv-cat-badge.auth { color: #2563eb; background: rgba(37, 99, 235, .1); }
.gv-cat-badge.observ { color: #0891b2; background: rgba(8, 145, 178, .1); }
.gv-cat-badge.reliab { color: #dc2626; background: rgba(220, 38, 38, .1); }
.gv-cat-badge.custom { color: var(--muted); background: var(--surface); border: 1px solid var(--border); }

/* ── Source badges ── */
.gv-source-badge {
  display: inline-block;
  padding: 2px 8px;
  font-size: 11px;
  font-weight: 500;
  border-radius: 4px;
  white-space: nowrap;
}
.gv-source-badge.builtin { color: var(--muted); background: var(--surface); }
.gv-source-badge.custom { color: var(--fg); background: transparent; border: 1px solid var(--border); }

/* ── Compliance tab: Posture card ── */
.gv-posture-card {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 24px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  margin-top: 16px;
}
.gv-posture-score {
  font-size: 48px;
  font-weight: 700;
  color: #16a34a;
  line-height: 1;
}
.gv-posture-info { display: flex; flex-direction: column; gap: 4px; }
.gv-posture-label { font-size: 15px; font-weight: 600; color: var(--fg); }
.gv-posture-trend { font-size: 13px; color: #16a34a; }

/* ── Compliance tab: KPI row ── */
.gv-kpi-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-top: 16px;
}
.gv-kpi {
  display: flex;
  flex-direction: column;
  padding: 16px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
}
.gv-kpi-value { font-size: 28px; font-weight: 700; color: var(--fg); }
.gv-kpi-label { font-size: 12px; color: var(--muted); margin-top: 4px; }

/* ── Compliance bar ── */
.gv-compliance-bar {
  display: inline-block;
  width: 80px;
  height: 6px;
  background: var(--border);
  border-radius: 3px;
  overflow: hidden;
  vertical-align: middle;
  margin-right: 8px;
}
.gv-bar-fill {
  height: 100%;
  background: #16a34a;
  border-radius: 3px;
}
.gv-bar-fill.warn { background: #d97706; }

/* ── Severity badges ── */
.gv-sev-badge {
  display: inline-block;
  padding: 1px 8px;
  font-size: 11px;
  font-weight: 500;
  border-radius: 10px;
  margin-right: 4px;
}
.gv-sev-badge.critical { color: #dc2626; background: rgba(220, 38, 38, .1); }
.gv-sev-badge.warning { color: #d97706; background: rgba(217, 119, 6, .1); }
.gv-sev-badge.info { color: #2563eb; background: rgba(37, 99, 235, .1); }

/* ── Action badges (violations table) ── */
.gv-action-badge {
  display: inline-block;
  padding: 2px 10px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 12px;
}
.gv-action-badge.blocked { color: #dc2626; background: rgba(220, 38, 38, .1); }
.gv-action-badge.flagged { color: #d97706; background: rgba(217, 119, 6, .1); }
.gv-action-badge.logged { color: #2563eb; background: rgba(37, 99, 235, .1); }

/* ── Compliance inner tabs content ── */
.gv-comp-content { display: none; }
.gv-comp-content.active { display: block; }

/* ── Collections Tab ── */
.gv-collections-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 20px;
  margin-top: 16px;
}
.gv-section-title {
  margin: 0 0 4px 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--fg);
}
.gv-section-desc {
  margin: 0;
  font-size: 13px;
  color: var(--muted);
  line-height: 1.5;
  max-width: 700px;
}
.gv-collections-toolbar {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 16px;
}
.gv-visibility-badge {
  display: inline-block;
  padding: 2px 10px;
  font-size: 11px;
  font-weight: 600;
  border-radius: 12px;
  white-space: nowrap;
}
.gv-visibility-badge.org {
  color: var(--accent-strong, var(--accent));
  background: rgba(138, 180, 255, .12);
  border: 1px solid var(--accent);
}
.gv-visibility-badge.shared {
  color: #22c55e;
  background: rgba(34, 197, 94, .1);
  border: 1px solid #22c55e;
}
.gv-visibility-badge.personal {
  color: var(--muted);
  background: var(--surface);
  border: 1px solid var(--border);
}
.gv-policy-preview {
  font-size: 10px;
  color: var(--muted-2);
  padding: 1px 6px;
  background: var(--bg-soft, var(--surface));
  border-radius: 4px;
  margin-left: 4px;
}
.gv-violation-count {
  font-size: 11px;
  color: #dc2626;
  padding: 1px 6px;
  background: rgba(220, 38, 38, .1);
  border-radius: 4px;
  margin-left: 4px;
}
.gv-collections-divider {
  height: 1px;
  background: var(--border);
  margin: 32px 0 0 0;
}
.gv-catalog-section {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}
.gv-catalog-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}
.gv-catalog-section-header h4 {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--fg);
}
.gv-featured-collections {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.gv-featured-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
}
.gv-featured-content {
  flex: 1;
  min-width: 0;
}
.gv-featured-content strong {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--text, var(--fg));
  margin-bottom: 2px;
}
.gv-featured-content p {
  margin: 0;
  font-size: 12px;
  color: var(--muted);
}
.gv-catalog-section .build-table-wrap { margin-top: 0; }
.gv-catalog-section .build-table { margin-top: 0; }

/* ═══════════════════════════════════════════════════
   CONTROLS PAGE (legacy ct-* prefix — kept for stage badges)
   ═══════════════════════════════════════════════════ */

/* ── Tab content ── */
.ct-tab-content { display: none; }
.ct-tab-content.active { display: block; }

/* ── Toolbar ── */
.ct-toolbar {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 16px;
}

/* ── Stage badges (Input / Output) ── */
.ct-stage-badge {
  display: inline-block;
  padding: 2px 10px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  background: var(--surface);
}

/* ── Type badges (Agent / Model) ── */
.ct-type-badge {
  display: inline-block;
  padding: 2px 10px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--fg);
  background: var(--surface);
}

/* ═══════════════════════════════════════════════════
   COMPLIANCE PAGE  (cp-* prefix)
   ═══════════════════════════════════════════════════ */

/* ── Tab content ── */
.cp-tab-content { display: none; }
.cp-tab-content.active { display: block; }

/* ── Date range chip ── */
.cp-date-range {
  font-size: 13px;
  color: var(--fg);
  padding: 5px 12px;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--surface);
}

/* ── Inner tabs (Policies / Assets) ── */
.cp-inner-tabs {
  display: flex;
  align-items: center;
  gap: 0;
  border-bottom: 1px solid var(--border);
  padding-bottom: 0;
}
.cp-inner-tab {
  padding: 8px 16px;
  font-size: 13px;
  color: var(--muted);
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  font-weight: 500;
  margin-bottom: -1px;
}
.cp-inner-tab.active {
  color: var(--fg);
  border-bottom-color: var(--fg);
}
.cp-inner-tab:hover:not(.active) { color: var(--fg); }

/* ── Mode toggle (Browse / AI) ── */
.cp-mode-toggle {
  display: flex;
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 16px;
}
.cp-mode-btn {
  flex: 1;
  padding: 10px 16px;
  font-size: 13px;
  border: none;
  background: var(--surface);
  color: var(--muted);
  cursor: pointer;
  font-weight: 500;
  transition: background .15s, color .15s;
}
.cp-mode-btn.active {
  background: var(--bg);
  color: var(--fg);
  box-shadow: inset 0 -2px 0 var(--fg);
}
.cp-mode-btn:hover:not(.active) { color: var(--fg); }

/* ── Selected controls chips ── */
.cp-selected-controls {
  margin-bottom: 16px;
  padding: 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
}
.cp-selected-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--muted);
  letter-spacing: .5px;
  display: block;
  margin-bottom: 8px;
}
.cp-selected-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  font-size: 12px;
  font-weight: 500;
  background: var(--accent);
  color: #fff;
  border-radius: 12px;
  margin: 0 6px 6px 0;
}
.cp-chip-remove {
  background: none;
  border: none;
  color: rgba(255,255,255,.7);
  cursor: pointer;
  font-size: 14px;
  padding: 0;
  line-height: 1;
}
.cp-chip-remove:hover { color: #fff; }

/* ── Control categories (accordion) ── */
.cp-control-category {
  border: 1px solid var(--border);
  border-radius: 8px;
  margin-bottom: 8px;
  overflow: hidden;
}
.cp-cat-header {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 14px 16px;
  background: var(--surface);
  border: none;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  color: var(--fg);
  text-align: left;
}
.cp-cat-header:hover { background: rgba(var(--accent-rgb), .04); }
.cp-cat-icon { font-size: 16px; }
.cp-cat-name { flex: 1; }
.cp-cat-count {
  font-size: 12px;
  font-weight: 500;
  color: var(--muted);
}
.cp-cat-chevron {
  font-size: 14px;
  color: var(--muted);
  transition: transform .2s;
}
.cp-cat-header.open .cp-cat-chevron {
  transform: rotate(180deg);
}
.cp-cat-body {
  border-top: 1px solid var(--border);
  padding: 4px 0;
}

/* ── Individual control items ── */
.cp-control-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 16px 12px 20px;
  cursor: pointer;
  transition: background .1s;
}
.cp-control-item:hover { background: rgba(var(--accent-rgb), .04); }
.cp-control-check {
  margin-top: 3px;
  accent-color: var(--accent);
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}
.cp-control-info {
  flex: 1;
  min-width: 0;
}
.cp-control-info strong {
  display: block;
  font-size: 14px;
  font-weight: 600;
  color: var(--fg);
  margin-bottom: 2px;
}
.cp-control-info span {
  font-size: 13px;
  color: var(--muted);
}
.cp-control-configure {
  background: none;
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 4px 8px;
  font-size: 14px;
  color: var(--muted);
  cursor: pointer;
  flex-shrink: 0;
  opacity: 0;
  transition: opacity .15s;
}
.cp-control-item:hover .cp-control-configure { opacity: 1; }
.cp-control-configure:hover {
  color: var(--accent);
  border-color: var(--accent);
}

/* ── Configure detail panel ── */
.cp-config-field {
  margin-bottom: 20px;
}
.cp-config-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--fg);
  display: block;
  margin-bottom: 4px;
}
.cp-config-hint {
  font-size: 13px;
  color: var(--muted);
  margin: 0 0 8px;
}
.cp-config-input-row {
  display: flex;
  align-items: center;
  gap: 8px;
}
.cp-config-unit {
  font-size: 12px;
  color: var(--muted);
  white-space: nowrap;
}

/* ── Exception empty state ── */
.cp-exception-empty {
  padding: 20px;
  border: 1px dashed var(--border);
  border-radius: 8px;
  text-align: center;
}
.cp-add-exception-btn {
  margin-top: 12px;
  padding: 6px 16px;
  font-size: 13px;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--surface);
  color: var(--accent);
  cursor: pointer;
  font-weight: 500;
}
.cp-add-exception-btn:hover { background: rgba(var(--accent-rgb), .06); }

/* ── AI assistant panel ── */
.cp-ai-chat {
  min-height: 200px;
  max-height: 400px;
  overflow-y: auto;
  margin-bottom: 16px;
}
.cp-ai-bubble {
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 13px;
  line-height: 1.5;
  max-width: 90%;
  margin-bottom: 12px;
}
.cp-ai-bubble.assistant {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--fg);
}
.cp-ai-bubble.user {
  background: var(--accent);
  color: #fff;
  margin-left: auto;
}
.cp-ai-input-row {
  display: flex;
  gap: 8px;
  align-items: center;
}
.cp-ai-send {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--muted);
  cursor: pointer;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.cp-ai-send:hover { color: var(--accent); border-color: var(--accent); }

/* ── Responsive ── */
@media (max-width: 900px) {
  .td-metrics-row {
    grid-template-columns: repeat(2, 1fr);
  }
}
